(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[684],{26037:function(e,t){"use strict";t.Z={src:"/_next/static/media/copyIcon.d7050699.svg",height:16,width:16,blurWidth:0,blurHeight:0}},30414:function(e,t){"use strict";t.Z={src:"/_next/static/media/copyIconWhite.370189c4.svg",height:16,width:16,blurWidth:0,blurHeight:0}},31793:function(e,t){"use strict";t.Z={src:"/_next/static/media/default-pfp.330256cb.jpeg",height:250,width:250,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABoQn/xAAVEAEBAAAAAAAAAAAAAAAAAAASI//aAAgBAQABBQJ0/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAwEBPwF//8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAgEBPwF//8QAFhABAQEAAAAAAAAAAAAAAAAAEQAh/9oACAEBAAY/Ahy//8QAFxABAAMAAAAAAAAAAAAAAAAAEQBBof/aAAgBAQABPyHNBc//2gAMAwEAAgADAAAAEA//xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oACAEDAQE/EH//xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oACAECAQE/EH//xAAYEAACAwAAAAAAAAAAAAAAAAAAAVFhgf/aAAgBAQABPxBpUQNH/9k=",blurWidth:8,blurHeight:8}},62791:function(e,t){"use strict";t.Z={src:"/_next/static/media/banned-users.b15333fa.png",height:256,width:256,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAV1BMVEU9UbD/cmT/cVgAYv/DbIlkc782atHlf4npcHgcatv/clpAZMUmbNZPYbvUd463a4+za467cZIATM28b5BvR5clfPBnb79VgdROl/a5fqsZcOxVhdtyk+GEFtc0AAAAGXRSTlMBfCQN24/+BQtvGYqNl9fx0dNo8iD9IPr+RRRP5AAAAAlwSFlzAAALEwAACxMBAJqcGAAAAEJJREFUeJwVxUcSgDAMALFNs9PoLQH+/04GXYRGTUmjEk1o92AU7PiItwDZ+/zvyjYVB4R+SQ+gy9sOmRXOVOu68wFLEAJZlsaMpwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},1609:function(e,t){"use strict";t.Z={src:"/_next/static/media/boosts.aba4975f.png",height:1024,width:1024,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAS1BMVEVMaXGwYi3WrF755JD92464hVTqxorKqIH05LPxyn/XuJH/7rv86Z3//+H29tX//8TWp2i0hlj7+9T59rHl2Kvy3pL4x33//+n//6+ZpBB/AAAAFXRSTlMAJ2yY+474KDDpQQ/OeB/x+jecmIxI08odAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAOUlEQVR4nGNgYGDg4xVhZwABIXE2QRDNwS/KChYQlhBgBUlx87CIsXGBpVg4OcBSzJwQPQxMjCAKAD0hAWNP3jcOAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},76554:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var s=n(97458),a=n(62791),r=n(69004),i=n.n(r);function l(e){let{onClick:t}=e;return(0,s.jsx)("div",{className:"absolute top-[2px] left-[2px] bg-sankoTvLightBlue",onClick:t,children:(0,s.jsx)(i(),{src:a.Z,alt:"panel icon",className:"w-5 h-5 mt-1 ml-1 cursor-pointer"})})}},10781:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var s=n(97458),a=n(62791),r=n(40591),i=n(17692),l=n(2137),o=n(69004),c=n.n(o),d=n(25195),u=n.n(d);function h(e){let{data:t,isVisible:n,setIsVisible:o,unbanUser:d}=e,h=e=>{e.privyAddress&&(d(e),o(!1))};return(0,s.jsx)(i.fC,{open:n,children:(0,s.jsxs)(i.h_,{children:[(0,s.jsx)(i.aV,{className:"dialog-overlay",onClick:()=>o(!1)}),(0,s.jsxs)(i.VY,{className:"bg-sankoTvBlue font-DSDigital border border-black w-[90vw] min-h-[80vh] max-w-[450px] max-h-[90vh] fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] text-white z-50 h-fit p-4 flex flex-col justify-start rounded-xl",children:[(0,s.jsx)(i.Dx,{className:"m-0 text-lg",children:(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2 mb-2",children:[(0,s.jsx)(r.Z,{src:a.Z}),"Banned Users"]})}),(0,s.jsx)(i.x8,{asChild:!0,onClick:()=>o(!1),children:(0,s.jsx)("button",{className:"absolute inline-flex items-center justify-center text-white rounded-md appearance-none hover:text-black focus:text-black focus:outline-none active:text-black top-3 right-3 h-[25px] w-[25px] focus:shadow-[0_0_0_2px]","aria-label":"Close",children:(0,s.jsx)(l.Pxu,{})})}),(0,s.jsx)("div",{className:"w-full h-full mb-4 overflow-y-auto border border-black rounded-md md:w-auto bg-sankoTvLightBlue",children:0===t.length?(0,s.jsx)("div",{className:"w-full text-center text-black",children:"No Banned Users"}):t.map((e,n)=>(0,s.jsxs)("div",{className:"flex items-center justify-between gap-3 p-2 pr-10 group",children:[(0,s.jsxs)("div",{className:"flex items-center group",children:[(0,s.jsx)(c(),{src:e.twitterImg,alt:e.twitterUsername||"twitter img",height:60,width:60,className:"rounded-md"}),(0,s.jsx)("div",{className:"flex flex-col items-start leading-5",children:(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)("div",{className:"text-left text-black hover:underline",children:(0,s.jsx)(u(),{href:"/".concat(e.twitterUsername),className:"flex group items-center gap-3 p-2 pr-10 tracking-wide ".concat(n<t.length-1?"border-b border-black":""),children:e.twitterUsername},e.privyAddress)})})})]}),(0,s.jsx)("button",{className:"inline-flex items-center justify-center text-blue-800 border-none appearance-none hover:text-blue-600 text-blue top-3 right-3 focus:text-blue active:text-blue","aria-label":"Unban User",onClick:()=>h(e),children:"Unban"})]},"banneduser-".concat(n)))})]})]})})}},64883:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var s=n(97458),a=n(7738);function r(e){let{isChatConnected:t}=e;return(0,s.jsx)(a.Z,{content:t?"Connected":"Disconnected",children:(0,s.jsx)("div",{className:"w-2.5 h-2.5 ".concat(t?"bg-green-500":"bg-red-500"," rounded-full")})})}},68830:function(e,t,n){"use strict";n.d(t,{s:function(){return i}});var s=n(97458);let a=e=>e.every(e=>"string"==typeof e),r=e=>e.every(e=>"object"==typeof e&&null!==e),i=(e,t)=>(void 0===t&&(t=[]),e.split(/:([^:\s]+):/g).map((e,n)=>{if(n%2!=0){if(a(t))return t.includes(e)?(0,s.jsx)("img",{className:"inline h-5",src:"/assets/chat-emotes/".concat(e,".png"),alt:e},n):":".concat(e,":");if(!r(t))return":".concat(e,":");{let a=t.find(t=>Object.prototype.hasOwnProperty.call(t,e));return a?(0,s.jsx)("img",{className:"inline h-5",src:a[e],alt:e},n):":".concat(e,":")}}return e}))},47991:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var s=n(97458),a=n(52983);let r=["DMT","army-man","baby-bottle","badge","banana","beer","bible","bindle","bitboy","bottle","bowling-pins","boxing-gloves","cash","cherries","cherry-blossom","chili","chromosome","cigarette","clover","cocktail","computer-chip","corn","cough-syrup","cowboy-hat","crackpipe","cross","crown","cucumber","cupcake","daisy","diamond","drugs","dubya","espresso","fried-chicken","geisha","gensler","glizzy","golden-glizzy","grenade","grippy","gun","hamburger","horseshoe","icecoldman","icecream","kanji","kebab","kirt","koran","kufi","liquor","lollipop","lori","milk","ohearn","orbs","pacifier","pinball","pregnant-man","sandals","satellite","saylor","sizechad","sleds","sombrero","steak","steroids","stilettos","stoagie","su-zhu","thumbs-down","thumbs-up","tim-and-tom","trump","uggs","watermelon","wheelchair","wice","wizzy","yellow-hat"];function i(e){let{onIconClick:t}=e,[n,i]=(0,a.useState)([]),[l,o]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{(async function(){let e=function(e){let t=localStorage.getItem(e);if(!t)return null;let n=JSON.parse(t);return new Date().getTime()>n.expiry?(localStorage.removeItem(e),null):n.data}("emotes");if(e)i(e),o(!0);else try{let e=await fetch("/api/user/emotes"),t=await e.json();Array.isArray(t)?(i(t),function(e,t,n){let s={data:t,expiry:new Date().getTime()+12e4};localStorage.setItem(e,JSON.stringify(s))}("emotes",t,0)):i([])}catch(e){i([])}finally{o(!0)}})()},[]),(0,s.jsx)(s.Fragment,{children:l&&(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"grid grid-cols-8 gap-1 overflow-auto border-2 border-black p-1.5 bg-sankoTvMiddleBlue shadow-sankoTvBlack",style:{width:"304px",height:"304px"},children:[n.map((e,n)=>{let{channel:a,emotes:r}=e;return(0,s.jsxs)("div",{className:"col-span-8",children:[(0,s.jsx)("h3",{className:"col-span-8 font-bold font-DSDigital text-md",children:a}),r.length>0&&r.map((e,n)=>(0,s.jsx)("button",{className:"inline-flex items-center justify-center w-6 h-6 p-1 hover:bg-gray-300",style:{width:"36px",height:"36px"},onClick:()=>t(e.emoteName),children:(0,s.jsx)("img",{src:"".concat(e.emoteImage),alt:e.emoteName,className:"w-full h-full"})},n))]},n)}),(0,s.jsxs)("div",{className:"col-span-8",children:[(0,s.jsx)("h3",{className:"col-span-8 font-bold font-DSDigital text-md",children:"SankoTV"}),r.map((e,n)=>(0,s.jsx)("button",{className:"inline-flex items-center justify-center w-6 h-6 p-1 hover:bg-gray-300",style:{width:"36px",height:"36px"},onClick:()=>t(e),children:(0,s.jsx)("img",{src:"/assets/chat-emotes/".concat(e,".png"),alt:e,className:"w-full h-full"})},n))]})]})})})}},2128:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var s=n(52983),a=n(63730);function r(e){let{children:t,setPopOutWindow:n}=e,r=(0,s.useRef)(document.createElement("div")),i=(0,s.useRef)(null);return(0,s.useEffect)(()=>(i.current=window.open("","","width=500,height=500"),n(i.current),i.current&&([...document.querySelectorAll("style"),...document.querySelectorAll('link[rel="stylesheet"]')].forEach(e=>{i.current.document.head.appendChild(e.cloneNode(!0))}),i.current.onbeforeunload=()=>{n(null)}),()=>{i.current&&i.current.close()}),[]),(0,s.useEffect)(()=>{i.current&&i.current.document.body.appendChild(r.current)},[i]),(0,a.createPortal)(t,r.current)}},7738:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var s=n(97458),a=n(10510),r=n(52983);function i(e){let{children:t,content:n,disabled:i,verticalOffset:l,closeOnClick:o}=e,[c,d]=(0,r.useState)(!1);return(0,s.jsx)(a.zt,{delayDuration:0,skipDelayDuration:0,children:i?(0,s.jsx)(s.Fragment,{children:t}):(0,s.jsxs)(a.fC,{open:c,onOpenChange:d,children:[(0,s.jsx)(a.xz,{className:"hover:cursor-pointer",asChild:!0,onClick:()=>d(!o),onMouseEnter:()=>d(!0),...o?{onMouseLeave:()=>d(!1)}:{},children:t}),(0,s.jsx)(a.h_,{children:(0,s.jsxs)(a.VY,{className:"font-DSDigital bg-black text-white will-change-[transform,opacity] border-black px-2 py-1 rounded-md data-[state=delayed-open]:data-[side=top]:animate-popoverSlideUpAndFade data-[state=closed]:data-[side=top]:animate-popoverSlideUpAndFadeExit",sideOffset:l||3,hideWhenDetached:!0,children:[n,(0,s.jsx)(a.Eh,{className:"fill-black"})]})})]})})}},79684:function(e,t,n){"use strict";n.d(t,{Z:function(){return eH}});var s=n(97458),a=n(30230),r=n.n(a);function i(){return(0,s.jsxs)(r(),{children:[(0,s.jsx)("title",{children:"SankoTV"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("meta",{name:"application-name",content:"SankoTV"}),(0,s.jsx)("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),(0,s.jsx)("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"}),(0,s.jsx)("meta",{name:"apple-mobile-web-app-title",content:"SankoTV"}),(0,s.jsx)("meta",{name:"description",content:"The thesis is simple"}),(0,s.jsx)("meta",{name:"format-detection",content:"telephone=no"}),(0,s.jsx)("meta",{name:"mobile-web-app-capable",content:"yes"}),(0,s.jsx)("meta",{name:"msapplication-config",content:"/icons/browserconfig.xml"}),(0,s.jsx)("meta",{name:"msapplication-TileColor",content:"#2B5797"}),(0,s.jsx)("meta",{name:"msapplication-tap-highlight",content:"no"}),(0,s.jsx)("meta",{name:"theme-color",content:"#000000"}),(0,s.jsx)("link",{rel:"manifest",href:"/manifest.json"}),(0,s.jsx)("link",{rel:"shortcut icon",href:"/favicon.ico"}),(0,s.jsx)("link",{rel:"apple-touch-icon",href:"/apple-touch-icon.png"}),(0,s.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"}),(0,s.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"}),(0,s.jsx)("link",{rel:"mask-icon",href:"/safari-pinned-tab.svg",color:"#5bbad5"}),(0,s.jsx)("meta",{name:"title",content:"SankoTV"}),(0,s.jsx)("meta",{name:"description",content:"Stream it on SankoTV"}),(0,s.jsx)("meta",{name:"keywords",content:"NFT, Dream Machine, dmt, stake, dream, machine, game, web3 game, Sanko Dream Machine, SankoTV, streaming, Sanko"}),(0,s.jsx)("meta",{name:"robots",content:"index, follow"}),(0,s.jsx)("meta",{httpEquiv:"Content-Type",content:"text/html; charset=utf-8"}),(0,s.jsx)("meta",{name:"language",content:"en"}),(0,s.jsx)("meta",{property:"og:type",content:"website"}),(0,s.jsx)("meta",{property:"og:url",content:"https://sanko.tv/"}),(0,s.jsx)("meta",{property:"og:title",content:"SankoTV"}),(0,s.jsx)("meta",{property:"og:description",content:"Stream it on SankoTV"}),(0,s.jsx)("meta",{property:"og:image",content:"https://sanko.tv/assets/og-image.png"}),(0,s.jsx)("meta",{property:"og:image:alt",content:"SankoTV OpenGraph Picture"}),(0,s.jsx)("meta",{property:"og:site_name",content:"SankoTV"}),(0,s.jsx)("meta",{property:"twitter:domain",content:"sanko.tv"},"twttr-domain"),(0,s.jsx)("meta",{property:"twitter:card",content:"summary_large_image"},"twttr-card"),(0,s.jsx)("meta",{property:"twitter:url",content:"https://sanko.tv/"},"twttr-url"),(0,s.jsx)("meta",{property:"twitter:title",content:"SankoTV"},"twttr-title"),(0,s.jsx)("meta",{property:"twitter:description",content:"Stream it on SankoTV"},"twttr-description"),(0,s.jsx)("meta",{property:"twitter:image",content:"https://sanko.tv/assets/og-image.png"},"twttr-image"),(0,s.jsx)("meta",{property:"twitter:image:alt",content:"SankoTV TwitterCard Picture"},"twttr-image-alt"),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)",href:"splash_screens/iPhone_14_Pro_Max_landscape.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)",href:"splash_screens/iPhone_14_Pro_landscape.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)",href:"splash_screens/iPhone_14_Plus__iPhone_13_Pro_Max__iPhone_12_Pro_Max_landscape.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)",href:"splash_screens/iPhone_14__iPhone_13_Pro__iPhone_13__iPhone_12_Pro__iPhone_12_landscape.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)",href:"splash_screens/iPhone_13_mini__iPhone_12_mini__iPhone_11_Pro__iPhone_XS__iPhone_X_landscape.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)",href:"splash_screens/iPhone_11_Pro_Max__iPhone_XS_Max_landscape.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)",href:"splash_screens/iPhone_11__iPhone_XR_landscape.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)",href:"splash_screens/iPhone_8_Plus__iPhone_7_Plus__iPhone_6s_Plus__iPhone_6_Plus_landscape.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)",href:"splash_screens/iPhone_8__iPhone_7__iPhone_6s__iPhone_6__4.7__iPhone_SE_landscape.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)",href:"splash_screens/4__iPhone_SE__iPod_touch_5th_generation_and_later_landscape.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)",href:"splash_screens/12.9__iPad_Pro_landscape.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)",href:"splash_screens/11__iPad_Pro__10.5__iPad_Pro_landscape.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 820px) and (device-height: 1180px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)",href:"splash_screens/10.9__iPad_Air_landscape.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)",href:"splash_screens/10.5__iPad_Air_landscape.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)",href:"splash_screens/10.2__iPad_landscape.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)",href:"splash_screens/9.7__iPad_Pro__7.9__iPad_mini__9.7__iPad_Air__9.7__iPad_landscape.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 744px) and (device-height: 1133px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)",href:"splash_screens/8.3__iPad_Mini_landscape.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)",href:"splash_screens/iPhone_14_Pro_Max_portrait.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)",href:"splash_screens/iPhone_14_Pro_portrait.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)",href:"splash_screens/iPhone_14_Plus__iPhone_13_Pro_Max__iPhone_12_Pro_Max_portrait.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)",href:"splash_screens/iPhone_14__iPhone_13_Pro__iPhone_13__iPhone_12_Pro__iPhone_12_portrait.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)",href:"splash_screens/iPhone_13_mini__iPhone_12_mini__iPhone_11_Pro__iPhone_XS__iPhone_X_portrait.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)",href:"splash_screens/iPhone_11_Pro_Max__iPhone_XS_Max_portrait.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)",href:"splash_screens/iPhone_11__iPhone_XR_portrait.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)",href:"splash_screens/iPhone_8_Plus__iPhone_7_Plus__iPhone_6s_Plus__iPhone_6_Plus_portrait.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)",href:"splash_screens/iPhone_8__iPhone_7__iPhone_6s__iPhone_6__4.7__iPhone_SE_portrait.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)",href:"splash_screens/4__iPhone_SE__iPod_touch_5th_generation_and_later_portrait.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)",href:"splash_screens/12.9__iPad_Pro_portrait.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)",href:"splash_screens/11__iPad_Pro__10.5__iPad_Pro_portrait.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 820px) and (device-height: 1180px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)",href:"splash_screens/10.9__iPad_Air_portrait.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)",href:"splash_screens/10.5__iPad_Air_portrait.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)",href:"splash_screens/10.2__iPad_portrait.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)",href:"splash_screens/9.7__iPad_Pro__7.9__iPad_mini__9.7__iPad_Air__9.7__iPad_portrait.png"}),(0,s.jsx)("link",{rel:"apple-touch-startup-image",media:"screen and (device-width: 744px) and (device-height: 1133px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)",href:"splash_screens/8.3__iPad_Mini_portrait.png"})]})}var l=n(52983),o=n(39879),c=n.n(o),d=()=>{let e=(0,l.useRef)(null),t=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let n=e.current,s=t.current,a=()=>{n&&n.play(),s&&s.play(),document.removeEventListener("touchstart",a)};return n&&s&&(n.play().catch(()=>{document.addEventListener("touchstart",a)}),s.play().catch(()=>{document.addEventListener("touchstart",a)})),()=>{document.removeEventListener("touchstart",a)}},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:c().centered,children:(0,s.jsxs)("ul",{className:c().cRainbow,children:[(0,s.jsxs)("li",{className:"".concat(c().cRainbowlayer," ").concat(c().cRainbowlayerwhite),children:["OH LAWDY",(0,s.jsx)("br",{}),"I'M SANKIN'"]}),(0,s.jsxs)("li",{className:"".concat(c().cRainbowlayer," ").concat(c().cRainbowlayerorange),children:["OH LAWDY",(0,s.jsx)("br",{}),"I'M SANKIN'"]}),(0,s.jsxs)("li",{className:"".concat(c().cRainbowlayer," ").concat(c().cRainbowlayerred),children:["OH LAWDY",(0,s.jsx)("br",{}),"I'M SANKIN'"]}),(0,s.jsxs)("li",{className:"".concat(c().cRainbowlayer," ").concat(c().cRainbowlayerviolet),children:["OH LAWDY",(0,s.jsx)("br",{}),"I'M SANKIN'"]}),(0,s.jsxs)("li",{className:"".concat(c().cRainbowlayer," ").concat(c().cRainbowlayerblue),children:["OH LAWDY",(0,s.jsx)("br",{}),"I'M SANKIN'"," "]}),(0,s.jsxs)("li",{className:"".concat(c().cRainbowlayer," ").concat(c().cRainbowlayergreen),children:["OH LAWDY",(0,s.jsx)("br",{}),"I'M SANKIN'"," "]}),(0,s.jsxs)("li",{className:"".concat(c().cRainbowlayer," ").concat(c().cRainbowlayeryellow),children:["OH LAWDY",(0,s.jsx)("br",{}),"I'M SANKIN'"," "]})]})}),(0,s.jsxs)("video",{ref:e,className:c().wombo,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[(0,s.jsx)("source",{src:"/assets/mahvel.mp4",type:'video/mp4; codecs="hvc1"'}),(0,s.jsx)("source",{src:"/assets/mahvel.webm",type:"video/webm"})]}),(0,s.jsx)("audio",{ref:t,src:"/assets/letmeoutletmeOUTletmeoutletmeoutLETMEOUT.mp3",autoPlay:!0,loop:!0})]})},u=e=>{let[t,n]=(0,l.useState)([]),s=["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","b","a"],a=["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight"];(0,l.useEffect)(()=>{let e,t;let r=e=>{n(t=>[...t,e.key].slice(-s.length))},i=n=>{e=n.touches[0].clientX,t=n.touches[0].clientY},l=s=>{if(!e||!t)return;let r=s.touches[0].clientX,i=s.touches[0].clientY,l=r-e,o=i-t;Math.abs(l)>Math.abs(o)?l>4?(console.log("r"),n(e=>[...e,"ArrowRight"].slice(-a.length))):l<-4&&(console.log("l"),n(e=>[...e,"ArrowLeft"].slice(-a.length))):o>4?(console.log("d"),n(e=>[...e,"ArrowDown"].slice(-a.length))):o<-4&&(console.log("u"),n(e=>[...e,"ArrowUp"].slice(-a.length))),e=0,t=0};return window.addEventListener("keydown",r),window.addEventListener("touchstart",i),window.addEventListener("touchmove",l),()=>{window.removeEventListener("keydown",r),window.removeEventListener("touchstart",i),window.removeEventListener("touchmove",l)}},[]),(0,l.useEffect)(()=>{(t.join("")===s.join("")||t.join("")===a.join(""))&&(e(),n([]))},[t,e,s,a])},h=n(53900),m=n(90985),x=n(47098),p=n(91476);let f=()=>{let e=(0,x.NL)(),{data:t=!1}=(0,p.a)({queryKey:["isLinkTwitterModalVisible"],queryFn:()=>!1,cacheTime:0,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1});return{isLinkTwitterModalVisible:t,setIsLinkTwitterModalVisible:t=>{e.setQueryData(["isLinkTwitterModalVisible"],t)}}};var b=n(27554),g=n(93642),v=n(45158),w=n(17692),A=n(2137),j=n(26037),k=n(30359),y=n(69004),_=n.n(y),N=n(5122),S=n(86057),E=n(9582);function T(){let{user:e}=(0,g.Z)({from:"privy"}),[,t]=(0,S.m9)(),{address:n}=(0,E.mA)(),{data:a,refetch:r}=(0,E.KQ)({address:n}),[i,o]=(0,l.useState)(!1),c=async()=>{let n=await t(e.privyAddress);N.ZP.dismiss(),N.ZP.success(n?"Copied address":"Copy failed")},d=async()=>{o(!0),await r(),o(!1),N.ZP.dismiss(),N.ZP.success("Refreshed balance")};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(w.Dx,{className:"m-0 text-lg",children:"Get some ETH"}),(0,s.jsxs)("div",{className:"mt-4",children:["Arbi address: ",e.privyAddress,(0,s.jsx)("button",{className:"ml-1",onClick:c,children:(0,s.jsx)(_(),{className:"transition brightness-100 saturate-0 hover:brightness-0 hover:saturate-100",src:j.Z,alt:"copy",width:18,height:18})})]}),(0,s.jsxs)("div",{className:"flex items-center mx-auto mt-4",children:[(0,s.jsx)("button",{className:"group",onClick:d,children:(0,s.jsx)(k.Z,{className:"w-4 h-4 mr-2 group-hover:text-black ".concat(i?"animate-spin":"")})}),"Balance: ",null==a?void 0:a.formatted," ETH"]}),(0,s.jsx)("button",{className:"text-black transition bg-white border border-black rounded active:text-white active:bg-black",disabled:!(((null==a?void 0:a.value)||0n)>0n),children:"Continue"})]})}var C=n(58697),P=n(70934),D=n(41531),R=n(16675);function B(){let{address:e}=(0,E.mA)(),{user:t}=(0,g.Z)({from:"privy"}),{setIsAccountModalVisible:n}=(0,h.A)(),[a,r]=(0,l.useState)(1),{refetch:i}=(0,b.p)(),{buyPasses:o,buyPrice:c}=(0,C.Z)({streamerUsername:t.twitterUsername||"",streamerAddress:e,numPasses:a,referrer:t.referrerAddress,onSuccess:()=>{i(),n(!1)}}),{data:d}=(0,E.KQ)({address:e});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(w.Dx,{className:"m-0 text-lg",children:"Buy your own pass"}),(0,s.jsx)("p",{className:"mt-3",children:"Passes are the way for viewers to get access to your streams and all of your content."}),(0,s.jsx)("p",{className:"mt-3",children:"To start a stream and create your chatroom, buy at least one of your own passes."}),(0,s.jsx)("p",{className:"mt-3",children:"Your first pass is free ^_^"}),(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 mt-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mt-2 ml-8",children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("input",{className:"w-12 px-1 text-xl text-black h-9 rounded-l-md",value:a,onChange:e=>{let t=Number(e.target.value);r(t=Math.min(Math.max(t,0),999))},onKeyDown:e=>{/[0-9]/.test(e.key)||"Backspace"===e.key||e.preventDefault()}}),(0,s.jsx)("button",{className:"px-2 bg-white opacity-100 hover:bg-gray-200 input-number",onClick:()=>{r(e=>e>1?e-1:1)},disabled:a<=1,children:(0,s.jsx)(P.Z,{className:"w-4 h-4 text-sankoTvBlue"})}),(0,s.jsx)("button",{className:"px-2 bg-white hover:bg-gray-200 rounded-r-md",onClick:()=>{r(e=>e+1)},disabled:999===a,children:(0,s.jsx)(D.Z,{className:"w-4 h-4 text-sankoTvBlue"})})]}),(0,s.jsxs)("div",{className:"text-lg w-[162px]",children:["= ","".concat(0n===c?"0.0000000":(0,R.d)(c)," ETH")]})]}),(0,s.jsx)("button",{className:"px-2 mt-1 text-lg text-white transition border border-black rounded active:text-white active:bg-black bg-sankoTvGreen",onClick:()=>{o(),setTimeout(()=>{n(!1)},500)},disabled:0===a||((null==d?void 0:d.value)||0n)<c,children:0===a?"Buy at least 1 pass":((null==d?void 0:d.value)||0n)<c?"Insuffient balance":"Buy ".concat(a," ").concat(1===a?"pass":"passes")}),(0,s.jsxs)("div",{children:["Balance: ",parseFloat((null==d?void 0:d.formatted)||"0").toFixed(4)," ETH"]})]})]})}function O(){let{isAccountModalVisible:e,setIsAccountModalVisible:t}=(0,h.A)(),{hasEth:n}=(0,b.p)(),{signedIn:a}=(0,m.Z)(),{login:r}=(0,v.sv)(),{user:i}=(0,g.Z)({from:"privy"}),{setIsLinkTwitterModalVisible:o}=f();return(0,l.useEffect)(()=>{e&&!a?r():e&&!i.twitterUsername&&(t(!1),o(!0))},[e,a,i.twitterUsername]),(0,s.jsx)(w.fC,{open:e&&a,children:(0,s.jsxs)(w.h_,{children:[(0,s.jsx)(w.aV,{className:"dialog-overlay"}),(0,s.jsxs)(w.VY,{className:"bg-sankoTvBlue font-DSDigital border border-black w-[90vw] max-w-[450px] fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] text-white z-50 h-fit p-4 flex flex-col justify-start rounded-xl",children:[n?(0,s.jsx)(B,{}):(0,s.jsx)(T,{}),(0,s.jsx)(w.x8,{asChild:!0,onClick:()=>t(!1),children:(0,s.jsx)("button",{className:"absolute inline-flex items-center justify-center text-white rounded-sm appearance-none hover:text-black focus:text-black focus:outline-none active:text-black top-3 right-3 h-[25px] w-[25px] focus:shadow-[0_0_0_2px]","aria-label":"Close",children:(0,s.jsx)(A.Pxu,{})})})]})]})})}var M=n(63827);function I(){let{linkTwitter:e,user:t}=(0,v.sv)(),{isLinkTwitterModalVisible:n,setIsLinkTwitterModalVisible:a}=f();return(0,l.useEffect)(()=>{a(!!t&&void 0===t.twitter)},[t]),(0,s.jsx)(M.fC,{open:n,children:(0,s.jsxs)(M.h_,{children:[(0,s.jsx)(M.aV,{className:"dialog-overlay",onClick:()=>a(!1)}),(0,s.jsxs)(M.VY,{className:"bg-sankoTvBlue font-DSDigital border border-black w-[90vw] max-w-[350px] fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] text-white z-50 h-fit p-4 flex flex-col justify-start rounded-xl",children:[(0,s.jsx)(M.Dx,{className:"text-lg",children:"Link your twitter"}),(0,s.jsxs)("div",{className:"flex justify-end gap-4 mt-4",children:[(0,s.jsx)(M.$j,{asChild:!0,onClick:()=>a(!1),children:(0,s.jsx)("button",{className:"px-2 py-1 mt-2 text-black transition bg-white border border-black rounded active:text-white active:bg-black",children:"I'll do it later"})}),(0,s.jsx)(M.aU,{asChild:!0,children:(0,s.jsx)("button",{onClick:()=>e(),className:"px-2 py-1 mt-2 text-white transition bg-black rounded",children:"Link"})})]})]})]})})}var U=n(31793),Z={src:"/_next/static/media/magnifyingGlass.63ac8369.png",height:160,width:160,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAV1BMVEWdnZMtKy7U19tka3PByNHa297o6On6+Pj09PRMVV0ZGRqFf3mHh4inp6hycnaJiIxwcnPHysrGw8JZXmOyrKVzc3PV3OCXp72arcHI0tx/suVCRkxER01t4+VmAAAAG3RSTlMBoOzC1dfSv70UxVyoppf+j2HysHIWdoyM1AoswmDPAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAPklEQVR4nB3GRxaAIBDA0FCHQewdvf85fZLND8Bx+7MCsxWxF9DHlMQDQ5A2uo4hLhvqHjOVDtyblT+T9+YHTPkB+PcjXRMAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},V=n(11401);let L=e=>(0,V.r)("/api/streams/search/".concat(e)),F=e=>{let{query:t}=e,{data:n,isFetching:s,isError:a}=(0,p.a)({queryKey:["search",t],queryFn:()=>L(t),placeholderData:[],keepPreviousData:!0,enabled:!!t,staleTime:3e5});return{streamers:""===t?[]:n||[],isFetching:s,isError:a}};var z=n(89325),H=n(72709),W=n(92669),Q=n(25195),G=n.n(Q);function q(){let[e,t]=(0,l.useState)(""),[n,a]=(0,l.useState)(!1),{streamers:r,isFetching:i}=F({query:e}),o=()=>{t(""),a(!1)};return(0,s.jsxs)(W.fC,{open:n,children:[(0,s.jsxs)("div",{className:"flex items-center font-bold text-black font-DSDigital",children:[(0,s.jsx)("input",{type:"search",value:e,onChange:e=>{let{value:n}=e.target;t(n),a(n.length>0)},className:"z-50 px-2 text-base border border-black focus-visible:outline-none username-search w-[150px] rounded-l-md py-1.5 sm:w-[180px] md:w-[220px] focus-visible:ring-2 focus-visible:ring-sankoTvBlue focus-visible:border-sankoTvBlue",placeholder:"Search"}),(0,s.jsx)("button",{className:"p-2 bg-gray-300 border border-l-0 border-black rounded-r-md",children:(0,s.jsx)(_(),{src:Z,alt:"search",width:20,height:20})})]}),(0,s.jsx)(W.ee,{}),(0,s.jsx)(W.h_,{children:(0,s.jsx)(W.VY,{className:"font-DSDigital font-bold bg-sankoTvLightBlue rounded w-[260px] border will-change-[transform,opacity] border-black shadow-sankoTv data-[state=open]:animate-popoverSlideUpAndFade",sideOffset:5,align:"start",onOpenAutoFocus:e=>e.preventDefault(),onInteractOutside:()=>a(!1),children:r.length>0?(0,s.jsx)("div",{className:"flex flex-col",children:r.map((e,t)=>(0,s.jsxs)(G(),{href:"/".concat(e.twitterUsername),className:"flex group items-center gap-3 p-2 tracking-wide ".concat(t<r.length-1?"border-b border-black":""),onClick:o,children:[(0,s.jsx)(_(),{src:e.twitterImg||U.Z,alt:e.twitterUsername||"twitter img",height:60,width:60,className:"rounded-md"}),(0,s.jsxs)("div",{className:"flex flex-col items-start leading-5",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"overflow-hidden text-left group-hover:underline max-w-[150px] overflow-ellipsis",children:e.twitterUsername}),(0,s.jsx)(H.Z,{className:"w-4 h-4 ml-1 text-transparent transition duration-75 group-hover:text-black"})]}),(0,s.jsx)("div",{className:"text-gray-500",children:(0,z.j)(e.privyAddress,"xs")})]})]},e.privyAddress))}):i?(0,s.jsx)("div",{className:"p-2 text-center",children:"Loading..."}):(0,s.jsx)("div",{className:"p-2 text-center",children:"No results"})})})]})}var Y=n(26312);function K(){let[e,t]=(0,l.useState)(!1),n=(0,l.useRef)(null),a=(0,l.useRef)(null);return(0,l.useEffect)(()=>{function e(e){e.target instanceof Node&&n.current&&a.current&&!n.current.contains(e.target)&&!a.current.contains(e.target)&&t(!1)}return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[]),(0,s.jsxs)(W.fC,{open:e,children:[(0,s.jsx)(W.xz,{className:"hidden md:block",ref:a,asChild:!0,onClick:()=>t(e=>!e),children:(0,s.jsx)("button",{className:"tv-btn px-3 active:shadow-none py-1.5 shadow-sankoTv open:shadow-none rounded-xl hover:shadow-sankoTvHover",children:"Buy $DMT"})}),(0,s.jsx)(W.h_,{children:(0,s.jsx)(W.VY,{ref:n,className:"z-10 font-sie",sideOffset:8,align:"end",children:(0,s.jsxs)("div",{className:"tv-btn flex flex-col rounded-xl shadow-sankoTv",children:[(0,s.jsx)("button",{onClick:()=>{window.open(Y.EO,"_blank")},className:"flex-1 p-4 tracking-widest text-center border-b border-black rounded-t-xl",children:"Uniswap (L1)"}),(0,s.jsx)("button",{onClick:()=>{window.open(Y.aB,"_blank")},className:"flex-1 p-4 tracking-widest text-center rounded-b-xl",children:"Camelot (L2)"})]})})})]})}var J=n(52866),X=n(75305);function $(){let{chain:e}=(0,E.LN)(),t=X.g,n=[t],{switchNetwork:a}=(0,E.g0)(),{isSmallScreen:r}=(0,J.Z)(),[i,o]=(0,l.useState)(!1),c=(0,l.useRef)(null),d=(0,l.useRef)(null),[u,h]=(0,l.useState)(t),m=t=>{void 0===e?h(t):null==a||a(t.id),o(!1)};return(0,l.useEffect)(()=>{function e(e){e.target instanceof Node&&c.current&&d.current&&!c.current.contains(e.target)&&!d.current.contains(e.target)&&o(!1)}return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[]),(0,s.jsxs)(s.Fragment,{children:[i&&r&&(0,s.jsx)("div",{className:"fixed inset-0 z-10 bg-overlay animate-overlayShow",onClick:()=>o(!1)}),(0,s.jsxs)(W.fC,{open:i,children:[(0,s.jsx)(W.xz,{ref:d,asChild:!0,onClick:()=>o(e=>!e),className:"tv-btn inline-flex items-center justify-center gap-1 py-2 pr-1 outline-none cursor-pointer xl:pl-3 xl:pr-2 active:shadow-none shadow-sankoTv open:shadow-none rounded-xl pl-1.5 group hover:shadow-sankoTvHover",children:(0,s.jsxs)("div",{children:[(0,s.jsx)(_(),{className:"w-6 h-6",alt:(null==e?void 0:e.network)||"chain",height:24,src:"/assets/chains/arbitrum.svg",width:24}),(0,s.jsx)(A.v4q,{className:"text-white"})]})}),r&&(0,s.jsx)(W.ee,{className:"fixed bottom-0 left-0 right-0 sm:relative"}),(0,s.jsx)(W.h_,{children:(0,s.jsx)(W.VY,{ref:c,className:"fixed bottom-0 left-0 right-0 z-10 w-screen outline-none sm:relative sm:w-auto font-sie open:sm-max:animate-slideUp sm-max:animate-slideDown",align:r?"start":"end",side:r?"top":void 0,sideOffset:r?0:8,children:(0,s.jsx)("div",{className:"tv-btn flex flex-col pb-12 text-white border-b-0 border-black sm:pb-0 sm:border-b shadow-sankoTv rounded-t-xl sm:rounded-xl",children:n.map((t,a)=>{var i;let l=a!==n.length-1||r;return(0,s.jsx)("div",{className:"".concat(l&&"border-black border-b","\n                                ").concat(!l&&"border-b-0"),children:(0,s.jsxs)("button",{onClick:()=>m(t),disabled:t.disabled,className:"relative flex items-center w-full h-12 gap-2 tracking-widest outline-none px-2.5 group",children:[(0,s.jsx)(_(),{className:"h-[24px] w-[24px]",alt:t.network,height:24,src:"/assets/chains/".concat(t.img,".svg"),width:24}),t.name,(null===(i=e||u)||void 0===i?void 0:i.id)===t.id&&(0,s.jsx)(A.nQG,{width:20,height:20})]},t.id)},t.id)})})})})]})]})}var ee={src:"/_next/static/media/connect.ecf24ce1.png",height:426,width:426,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAbFBMVEVMaXFMppdw6cxXqJVdzb1Ino9r5MuX//5Fl45AgnIcWmBcxrBw6NY6gHN19d05gXZAjn8zenJilpN07t6D//Vex7WB+e9z8NFUhIBo28RSrp48fm9n0blQnJA4eGk3ZVx8/OGH//cuVktkqpyv4WA4AAAAH3RSTlMAnvz+IdzZ/CP9I/Sd396f2p7+nuud6/j+6J7////+IGbQiQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAEZJREFUeJwFwQUCgCAQBMAlj7BbOcD4/x+dAfS6bLMGnMmZqNO4Mh0TPQ3OpL7qb4so08sqWQjevZdFIJjIpbYOCONgeocfizMDxl3isCEAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8};function et(){let{login:e}=(0,v.sv)();return(0,s.jsx)("button",{onClick:t=>{t.preventDefault(),e()},onKeyUp:t=>{"Enter"===t.key&&e()},tabIndex:0,className:"relative z-10 cursor-pointer w-11 h-11 group",children:(0,s.jsx)(_(),{className:"bg-black rounded-full shadow-sankoTv group-active:shadow-none group-hover:shadow-sankoTvHover",src:ee,alt:"connect"})})}var en=n(30414),es=n(7738),ea=n(39400),er=n(79363),ei=n(5512),el=n(79381),eo=n(86954),ec=n(89923),ed=n(91838),eu=function(){let{address:e}=(0,E.mA)(),{user:t}=(0,g.Z)({from:"privy"}),{logout:n}=(0,v.sv)(),{chain:a}=(0,E.LN)(),r=[X.g],{data:i}=function(){let{watch:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{address:t}=(0,E.mA)();return(0,E.KQ)({address:t,token:Y.jO,watch:e,cacheTime:Y.xw})}({watch:!1}),{data:o}=(0,E.KQ)({address:e}),[c,d]=(0,l.useState)(!1),u=(0,l.useRef)(null),h=(0,l.useRef)(null),{isSmallScreen:m}=(0,J.Z)(),{switchNetwork:x}=(0,E.g0)(),p=(0,ed.useRouter)(),[,f]=(0,S.m9)(),{data:b}=(0,E.KQ)({address:t.privyAddress,token:Y.BY,enabled:!!t.privyAddress&&"---"!==t.privyAddress});(0,l.useEffect)(()=>{function e(e){e.target instanceof Node&&u.current&&h.current&&!u.current.contains(e.target)&&!h.current.contains(e.target)&&d(!1)}return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[]);let w=async()=>{let e=await f(t.privyAddress);N.ZP.dismiss(),N.ZP.success(e?"Copied address":"Copy failed")};return(0,s.jsxs)(W.fC,{open:c,children:[(0,s.jsx)(W.xz,{ref:h,asChild:!0,onClick:()=>d(e=>!e),children:(0,s.jsxs)("button",{className:"relative",children:[(0,s.jsx)("div",{className:"relative p-0 overflow-hidden border border-black rounded-lg w-11 h-11 ".concat(c?"shadow-none":"shadow-sankoTv active:shadow-none hover:shadow-sankoTvHover"),children:(0,s.jsx)(_(),{priority:!0,placeholder:"blur",blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg==",src:t.twitterImg||U.Z,alt:"sanko",fill:!0,sizes:"100",className:"object-cover"})}),!t.twitterUsername&&(0,s.jsx)("div",{className:"absolute w-3 h-3 bg-red-500 rounded-full -top-1 -right-1"})]})}),m&&(0,s.jsx)(W.ee,{className:"fixed bottom-0 left-0 right-0 sm:relative"}),(0,s.jsx)(W.h_,{children:(0,s.jsx)(W.VY,{ref:u,className:"fixed bottom-0 left-0 right-0 z-10 w-screen sm:w-auto sm:relative font-sie ".concat(c?"sm-max:animate-slideUp":"sm-max:animate-slideDown"),align:m?"start":"end",side:m?"top":void 0,sideOffset:m?0:8,children:(0,s.jsxs)("div",{className:"tv-btn flex flex-col text-white border border-b-0 sm:border-b rounded-t-xl shadow-sankoTv selection-tv sm:rounded-xl",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4 p-4 border-b border-black",children:[t.username&&(0,s.jsx)("div",{children:t.username}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(_(),{className:"rounded-md",src:t.twitterImg||U.Z,alt:"sanko",width:110,height:110}),(0,s.jsx)("div",{className:"h-[110px]",children:(0,s.jsxs)("div",{className:"flex flex-col justify-between -mt-1 h-[119px]",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{children:(0,z.j)(t.address,"sm",!0)}),(0,s.jsx)("button",{className:"ml-1",onClick:w,children:(0,s.jsx)(_(),{priority:!0,className:"-mt-1 transition duration-75 hover:brightness-0 hover:saturate-100",src:en.Z,alt:"copy",width:16,height:16})})]}),(0,s.jsx)("div",{children:"".concat((Number(null==i?void 0:i.formatted)||0).toFixed(2)," DMT")}),(0,s.jsx)("div",{children:"".concat((Number(null==b?void 0:b.formatted)||0).toFixed(2)," ARB")}),(0,s.jsx)("div",{children:"".concat(parseFloat((null==o?void 0:o.formatted)||"0").toFixed(3)," ETH")})]})})]})]}),(0,s.jsx)("div",{className:"flex border-b md:hidden border-b-black",children:r.map((e,t)=>(0,s.jsxs)("button",{disabled:e.disabled,onClick:()=>null==x?void 0:x(e.id),className:"border-r-black flex items-center justify-center flex-1 gap-2 p-4 tracking-widest group\n                              ".concat(t!==r.length-1&&"border-r"),children:[(0,s.jsx)(_(),{className:"h-[24px] w-[24px] brightness-100 saturate-0",alt:e.network,height:24,src:"/assets/chains/".concat(e.img,".svg"),width:24}),e.shorthand,(null==a?void 0:a.id)===e.id&&(0,s.jsx)(A.nQG,{width:20,height:20})]},e.id))}),(0,s.jsx)(es.Z,{content:"Unlocked when twitter is linked",verticalOffset:-10,disabled:!!t.twitterUsername,children:(0,s.jsxs)("button",{onClick:()=>{p.push("/".concat(t.twitterUsername))},className:"flex items-center justify-center p-4 tracking-widest border-b border-black gap-1.5",disabled:!t.twitterUsername,children:[(0,s.jsx)(ei.Z,{className:"w-5 h-5"}),(0,s.jsx)("div",{children:"My stream page"})]})}),(0,s.jsxs)("button",{onClick:()=>{p.push("/settings")},className:"flex items-center justify-center p-4 tracking-widest border-b border-black gap-1.5",children:[(0,s.jsx)(el.Z,{className:"w-5 h-5"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{children:"Settings"}),!t.twitterUsername&&(0,s.jsx)("div",{className:"absolute w-2 h-2 bg-red-500 rounded-full -top-1 -right-3"})]})]}),(0,s.jsxs)("button",{onClick:()=>{(null==a?void 0:a.id)===er.yX.id||(null==a?void 0:a.id)===er.Zk.id?window.open(Y.aB,"_blank"):window.open(Y.EO,"_blank")},className:"flex items-center justify-center p-4 tracking-widest border-b border-black md:hidden gap-1.5",children:[(0,s.jsx)(eo.Z,{className:"w-5 h-5"}),(0,s.jsx)("div",{children:"Buy $DMT"})]}),(0,s.jsxs)("div",{className:"flex items-center p-4 justify-center gap-1.5 border-b border-black sm:mb-0 sm:border-b-0 ".concat((0,ea.Ee)()?"mb-12":""),children:[(0,s.jsx)(ec.Z,{className:"w-5 h-5"}),(0,s.jsx)("button",{onClick:()=>n(),className:"tracking-widest",children:"Logout"})]})]})})})]})};function eh(){let{signedIn:e}=(0,m.Z)();return(0,s.jsxs)("header",{className:"relative z-50 flex items-center justify-end w-full gap-4 p-4 pb-0 text-sm duration-1000 bg-white sm:p-5 sm:text-base md:text-lg text-sankoGreen font-sie",children:[(0,s.jsx)("div",{className:"absolute pl-1 left-4 lg:left-[40%] lg:translate-x-[-50%] xl:left-[50%]",children:(0,s.jsx)(q,{})}),(0,s.jsx)($,{}),e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(K,{}),(0,s.jsx)(eu,{})]}):(0,s.jsx)(et,{})]})}function em(){let{signedIn:e}=(0,m.Z)();return(0,s.jsx)("div",{className:"absolute top-0 w-full z-50 bg-gradient-to-b from-white from-90% to-transparent",children:(0,s.jsxs)("header",{className:"flex flex-row items-center justify-between w-full p-2 pb-4 text-sm duration-1000 bg-transparent text-sankoGreen font-sie",children:[(0,s.jsx)("div",{children:(0,s.jsx)(q,{})}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)($,{}),e?(0,s.jsx)(eu,{}):(0,s.jsx)(et,{})]})]})})}var ex=n(11562);function ep(e){let{icon:t,href:n,text:a,imgStyle:r}=e,i=Math.random(),[o,c]=(0,l.useState)("dance"),d=(0,l.useRef)(null);return(0,l.useEffect)(()=>{if(d.current&&clearInterval(d.current),"dance"!==o)return d.current=setInterval(()=>{c("dance")},1e3),()=>clearInterval(d.current)},[o]),(0,s.jsx)("div",{className:"select-none aspect-square w-[3.1rem]",onClick:()=>c("hop"),children:(0,s.jsx)(G(),{href:n,children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,s.jsx)(ex.E.img,{variants:{dance:{scale:[1,1.03,1.03,1],rotate:[0,-2*i,0,2*i,0],translateY:[0,2,0],transition:{duration:10-i,repeat:1/0,ease:"easeInOut"}},hop:{rotate:[0,3,-3,3,0],translateY:[0,-8,0],transition:{duration:.4,ease:"easeInOut"},keyTimes:[1,.6,.5]}},animate:o,src:t,className:"w-full h-full select-none ".concat(r?"".concat(r):"")}),(0,s.jsx)("div",{className:"mt-2 text-center text-white text-[0.8rem] font-Monego",children:a})]})})})}function ef(){let{signedIn:e}=(0,m.Z)(),{user:t}=(0,g.Z)({from:"privy"});return(0,s.jsx)("div",{className:"flex flex-column items-end justify-end absolute inset-x-0 bottom-[-1px] pb-[env(safe-area-inset-bottom)] z-20",children:(0,s.jsxs)("nav",{className:"flex flex-row justify-between items-center w-screen h-[5.3rem] px-4 pb-1 bg-gradient-to-t from-black from-10% via-zinc-700 via-[40%]",children:[(0,s.jsx)(ep,{icon:"/assets/sankotv/icons/home.png",text:"Home",href:"/"}),e&&(0,s.jsx)(ep,{icon:"/assets/sankotv/icons/profile.png",text:"Profile",href:"/".concat(t.twitterUsername)}),(0,s.jsx)(ep,{icon:"/assets/sankotv/icons/pass.png",text:"Passes",href:"/passes"}),(0,s.jsx)(ep,{icon:"/assets/sankotv/icons/compass.png",text:"Explore",href:"/explore"}),(0,s.jsx)(ep,{icon:"/assets/sankotv/icons/airdrop.png",text:"Airdrop",href:"/airdrop"})]})})}var eb=n(45612);function eg(e){let{children:t,className:n}=e;return(0,s.jsx)("div",{className:"flex flex-column p-1 justify-center text-lg text-white border border-black sm:text-2xl active:shadow-none bg-gray-300 rounded-xl font-DSDigital shadow-sankoTvBlack open:shadow-none hover:shadow-sankoTvHover ".concat(n||""),children:t})}var ev=n(10687);function ew(e){let{className:t,icon:n,text:a}=e;return(0,s.jsx)(ev.Z,{children:(0,s.jsxs)("button",{className:"flex flex-row justify-start w-full items-center gap-4 pl-2 pr-2 relative text-lg font-bold tracking-normal text-black bg-transparent sm:text-2xl  active:drop-shadow-none font-DSDigital ".concat(t||""),children:[n&&(0,s.jsx)("img",{src:n,alt:"tv",className:"top-[-0.25rem] left-[-1.5rem] w-[3rem] aspect-square"}),a]})})}function eA(e){let{children:t,href:n,className:a,icon:r,rounded:i,padding:l}=e;return(0,s.jsxs)(G(),{href:n,className:"flex flex-row justify-start w-full items-center gap-4 pl-2 pr-2 relative text-lg font-bold tracking-normal text-black bg-transparent sm:text-2xl active:drop-shadow-none font-DSDigital ".concat(a||""),children:[r&&(0,s.jsx)("img",{src:r,alt:"icon",className:"top-[-0.25rem] left-[-1.5rem] w-[3rem] aspect-square drop-shadow-[0_1px_1px_rgb(30_41_59)] ".concat(i?"rounded-full p-0.5":""," ").concat(l?"p-".concat(l):"")}),t]})}function ej(){let{signedIn:e}=(0,m.Z)(),{user:t}=(0,g.Z)({from:"privy"}),{isHostingStream:n}=(0,eb.Q)({inStreamPage:!1}),a=()=>"/".concat(t.twitterUsername);return(0,s.jsxs)("nav",{className:"flex flex-col flex-shrink-0 h-screen gap-4 p-4 border-r border-black bg-sankoTvGray ".concat(n?"w-[230px]":"w-[218px]"),children:[(0,s.jsx)(eg,{className:"mb-6 xs:bg-neutral-900 xs:border-white hover:shadow-white",children:(0,s.jsx)(eA,{href:"/",className:"xs:justify-center",children:(0,s.jsxs)("div",{className:"text-3xl",children:[(0,s.jsx)("span",{className:"text-sankoTvBlue",children:"SA"}),(0,s.jsx)("span",{className:"text-sankoTvGreen",children:"NK"}),(0,s.jsx)("span",{className:"text-sankoTvRed",children:"O"}),(0,s.jsx)("span",{className:"text-white",children:"TV"})]})})}),n?(0,s.jsx)(eg,{className:"hover:shadow-sankoTvGreen",children:(0,s.jsx)(eA,{href:a(),icon:"/assets/sankotv/icons/host-active.png",children:"Streaming"})}):(0,s.jsx)(eg,{className:"hover:shadow-sankoTvGreen",children:(0,s.jsx)(ew,{icon:"/assets/sankotv/icons/host.png",text:"Host"})}),(0,s.jsx)(eg,{className:"hover:shadow-sankoTvBlue",children:(0,s.jsx)(eA,{href:"/explore",icon:"/assets/sankotv/icons/compass.png",children:"Explore"})}),e&&t.twitterUsername&&(0,s.jsx)(eg,{className:"hover:shadow-sankoTvRed",children:(0,s.jsx)(eA,{href:a(),icon:"/assets/sankotv/icons/profile.png",children:"Profile"})}),(0,s.jsx)(eg,{className:"hover:shadow-sankoTvGold",children:(0,s.jsx)(eA,{href:"/passes",icon:"/assets/sankotv/icons/pass.png",children:(0,s.jsx)("span",{children:"Passes"})})}),(0,s.jsx)(eg,{className:"hover:shadow-sankoTvBlue",children:(0,s.jsx)(eA,{href:"/airdrop",icon:"/assets/sankotv/icons/airdrop.png",children:(0,s.jsx)("span",{children:"Airdrop"})})}),(0,s.jsxs)("div",{className:"flex justify-between w-full mt-auto mb-3",children:[(0,s.jsx)("a",{href:Y.U,target:"_blank",className:"px-2 py-1 font-bold tracking-normal text-center text-black bg-gray-200 border border-black rounded-lg active:shadow-none font-DSDigital shadow-sankoTvBlack hover:shadow-sankoTvWhite",rel:"noreferrer",children:"FAQ"}),(0,s.jsx)("a",{href:Y.wM,target:"_blank",className:"px-2 py-1 font-bold tracking-normal text-center text-black bg-gray-200 border border-black rounded-lg active:shadow-none font-DSDigital shadow-sankoTvBlack hover:shadow-sankoTvWhite",rel:"noreferrer",children:"Terms"})]})]})}var ek=n(13232),ey=n(37198),e_=n(97258),eN=n(60629),eS=n(25804),eE=n(12909),eT=n(26564),eC=n(73550),eP=n(2128),eD=n(81842),eR=n(76554),eB=n(10781),eO=n(68830),eM=n(47991);let eI={streaming:{src:"/assets/sankotv/icons/host-active.png",title:"Streaming"},moderator:{src:"/assets/sankotv/icons/boosts.png",title:"Moderator"},bot:{src:"/assets/sankotv/icons/bot.jpg",title:"Bot"}},eU="bg-cover bg-no-repeat w-[1.25rem] h-[1.25rem] inline-block align-middle mb-0.5 -mt-0.5 mr-0.5 -ml-0.5";function eZ(e){let{flairKey:t}=e,n=eI[t];if(!n)return null;switch(t){case"streaming":return(0,s.jsx)(es.Z,{content:"Streaming",verticalOffset:-1,children:(0,s.jsx)("span",{title:n.title,className:"bg-[url('/assets/sankotv/icons/host-active.png')] ".concat(eU)})});case"moderator":return(0,s.jsx)(es.Z,{content:"Moderator",verticalOffset:-1,children:(0,s.jsx)("span",{title:n.title,className:"bg-[url('/assets/sankotv/icons/boosts.png')] ".concat(eU)})});case"bot":return(0,s.jsx)(es.Z,{content:"Bot",verticalOffset:-1,children:(0,s.jsx)("span",{title:n.title,className:"bg-[url('/assets/sankotv/icons/bot.jpg')] ".concat(eU)})})}}function eV(e){var t;let{messages:n,isPoppedOut:a,onClickUser:r,isFetchingChatHistory:i,sendMessage:o,sendEmote:c,sendDiceroll:d,sendCoinflip:u,sendReplyMessage:h,isChatConnected:x,sendDeleteMessage:p,bannedUsers:f,sendUnbanUser:b,isChatMinimized:w}=e,{streamer:j,canChat:k}=(0,eb.Q)();k=!0;let[y,_]=(0,l.useState)(""),[S,E]=(0,l.useState)(!1),{login:T}=(0,v.sv)(),{user:C}=(0,g.Z)({from:"privy"}),{signedIn:P}=(0,m.Z)(),D=(0,l.useRef)(null),R=(0,l.useRef)(null),[B,O]=(0,l.useState)(0),{setIsStreamerPassesModalVisible:M}=(0,eD.a)(),[I,U]=(0,l.useState)(!1),Z=(0,l.useRef)(!1),[V,L]=(0,l.useState)(!1),F=(0,l.useRef)(null),[z,H]=(0,l.useState)(!1),W=()=>H(!z);(0,l.useEffect)(()=>{(async()=>{if(0===n.length)return;!Z.current&&D.current&&(a&&await new Promise(e=>setTimeout(e,50)),D.current.scrollTop=D.current.scrollHeight),Z.current=!0;let e=!1;if(D.current&&R.current){let{clientHeight:t,scrollTop:n,scrollHeight:s}=D.current;e=t+n+R.current.offsetHeight>=s-20}D.current&&e?(D.current.scrollTop=D.current.scrollHeight,O(0)):O(e=>e+1)})()},[n]),(0,l.useEffect)(()=>{w||en()},[w]);let Q=()=>er.aB.includes(C.privyAddress),G=e=>{e.length>256||_(e)},q=async()=>{if(!P){T();return}if(!x){var e;N.Am.dismiss(),(null===(e=j.chatroom)||void 0===e?void 0:e.bannedUsers.includes(C.privyId||""))?N.Am.error("You have been banned from TrollBox"):k?N.Am.error("Trying to connect to TrollBox..."):M(!0);return}let t=y.trim();if(t)try{t.startsWith("/me ")?c(t):t.startsWith("/roll ")||t.startsWith("/dice ")||"/roll"===t||"/dice"===t?d(t):"/toss"===t||"/flip"===t||"/cointoss"===t?u():o(t),_(""),en()}catch(e){console.error(e)}},Y=async e=>{"Enter"!==e.key||(e.preventDefault(),E(!0),setTimeout(()=>E(!1),100),I||(U(!0),await q(),U(!1)))},K=async e=>{Q()&&p(e)},J=async e=>{Q()&&(b(e.privyAddress||""),f.refetch(),N.Am.success("Unbanned ".concat(e.twitterUsername)))},X=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{userId:n}=e,a=n===C.privyId,{name:r}=e.attributes;return r&&r.startsWith("0x")?(0,s.jsxs)("span",{className:"".concat(a?"underline":""),children:["0",(0,s.jsx)("span",{className:"text-[13px]",children:r.slice(1,2)}),r.slice(2)]}):(0,s.jsx)("span",{className:"".concat(a&&!t?"underline":""),children:r})},$=(e,t)=>{var n,a,i,o,c,d;if(e.isTimestamp)return(0,s.jsx)("div",{className:"font-bold text-gray-600 text-center w-full pb-1.5 ".concat(0===t?"":"pt-1.5"),children:e.content});if(e.isSystemEvent)return(0,s.jsxs)(s.Fragment,{children:[e.time&&(0,s.jsx)("span",{className:"text-gray-600 pr-1.5",children:e.time}),(0,s.jsx)("span",{className:"font-bold text-red-500 break-words",children:e.content})]});if(e.isGift)return(0,s.jsxs)(s.Fragment,{children:[e.time&&(0,s.jsx)("span",{className:"text-gray-600 pr-1.5",children:e.time}),(0,s.jsx)("span",{className:"mr-1 text-red-500",children:X(e.sender)}),(0,s.jsx)("span",{className:"font-bold text-red-500 break-words",children:e.content})]});if(e.isEmote)return(0,s.jsxs)(s.Fragment,{children:[e.time&&(0,s.jsx)("span",{className:"text-gray-600 pr-1.5",children:e.time}),(0,s.jsxs)("span",{className:"italic break-words",children:[X(e.sender,!0)," ",et(e.content)]})]});if(e.isDiceroll)return(0,s.jsxs)(s.Fragment,{children:[e.time&&(0,s.jsx)("span",{className:"text-gray-600 pr-1.5",children:e.time}),(0,s.jsxs)("span",{className:"italic text-indigo-500 break-words",children:[X(e.sender,!0)," ",e.content]})]});if(e.isCoinflip)return(0,s.jsxs)(s.Fragment,{children:[e.time&&(0,s.jsx)("span",{className:"text-gray-600 pr-1.5",children:e.time}),(0,s.jsxs)("span",{className:"italic break-words text-violet-500",children:[X(e.sender,!0)," ",e.content]})]});if(Q())return(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("button",{onClick:()=>K(e.id),className:"transition mt-[0.15rem] outline-1 hover:outline hover:outline-black",children:(0,s.jsx)(A.Pxu,{})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{className:"whitespace-nowrap",children:[e.time&&(0,s.jsx)("span",{className:"pr-1 text-gray-600",children:e.time}),null===(a=e.sender.attributes)||void 0===a?void 0:null===(n=a.flair)||void 0===n?void 0:n.map((e,t)=>(0,s.jsx)(eZ,{flairKey:e},t)),(0,s.jsxs)("button",{onClick:()=>r(e.sender),style:{color:null===(i=e.sender.attributes)||void 0===i?void 0:i.color},className:"inline-block mr-1 transition pl-0.5 hover:outline hover:outline-black",children:[X(e.sender),":"]})]}),(0,s.jsx)("span",{onClick:()=>ee(e.id,e.sender,e.content),className:"font-normal hover:underline break-word",children:(0,eO.s)(e.content,e.emotes).map((e,t)=>(0,s.jsx)(l.Fragment,{children:e},t))})]})]});else return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{className:"whitespace-nowrap",children:[e.time&&(0,s.jsx)("span",{className:"text-gray-600 pr-1.5",children:e.time}),null===(c=e.sender.attributes)||void 0===c?void 0:null===(o=c.flair)||void 0===o?void 0:o.map((e,t)=>(0,s.jsx)(eZ,{flairKey:e},t)),(0,s.jsxs)("span",{className:"mr-1",style:{color:null===(d=e.sender.attributes)||void 0===d?void 0:d.color},children:[X(e.sender),":"]})]}),(0,s.jsx)("span",{onClick:()=>ee(e.id,e.sender,e.content),className:"font-normal hover:underline break-word",children:(0,eO.s)(e.content,e.emotes).map((e,t)=>(0,s.jsx)(l.Fragment,{children:e},t))})]})},ee=(e,t,n)=>{n.length<11?_("@".concat(t.attributes.name," '").concat(n,"' ")):_("@".concat(t.attributes.name," '").concat(n.slice(0,10),"...' ")),F.current&&F.current.focus()},et=e=>{let t=e.split(" ");return t.shift(),t.join(" ")},en=()=>{D.current&&(D.current.scrollTop=D.current.scrollHeight),O(0)},es=()=>f.userIsChatBanned?"You have been banned from the TrollBox":i&&P?"Loading chat history...":!i&&k&&0===n.length&&P?"Nothing here yet, be the first to say something!":P?"":"Sign in to join the CHAOS";return(0,s.jsxs)("div",{className:"w-full tracking-normal shadow-sankoTvBlack shadow-sankoTvInverted font-Monaco",children:[(0,s.jsxs)("div",{className:"relative",children:[k&&Q()&&((null===(t=f.data)||void 0===t?void 0:t.length)||0)>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eB.Z,{data:f.data||[],isVisible:V,setIsVisible:L,unbanUser:J}),(0,s.jsx)(eR.Z,{onClick:()=>L(!V)})]}),(0,s.jsx)("div",{className:"".concat(a?"h-[calc(100vh-46px)]":"h-[300px] lg:h-[400px]","  min-h-[10rem] p-2 overflow-y-scroll overflow-x-hidden text-sm border-2 border-black tv-scrollbar bg-sankoTvLightGreen"),ref:D,onScroll:()=>{if(D.current){let{scrollTop:e,clientHeight:t,scrollHeight:n}=D.current;e+t>=n&&O(0)}},children:k&&n.map((e,t)=>(0,s.jsx)("div",{ref:t===n.length-1?R:null,className:"min-h-[1.6em] text-[1.1em]",children:$(e,t)},e.id))}),B>0&&k&&(0,s.jsxs)("button",{className:"absolute flex items-center py-1 pl-1 pr-2 text-sm text-white -translate-x-1/2 left-1/2 bottom-3 bg-sankoTvGreen",onClick:en,children:[(0,s.jsx)(eE.Z,{className:"w-4 h-4 mr-1"}),"".concat(B," new ").concat(1===B?"msg":"msgs")]}),es()&&(0,s.jsx)("div",{className:"absolute px-3 mx-2 text-center -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg md:text-xl top-1/2 left-1/2 py-1.5 font-DSDigital",children:es()})]}),(0,s.jsxs)("div",{className:"relative flex bg-white border-2 border-t-0 border-black",children:[(0,s.jsx)("input",{className:"flex-grow p-2 ".concat((0,ea.Tt)()?"text-base":"text-sm"," outline-none"),value:y,onChange:e=>G(e.target.value),placeholder:"Send a message...",onKeyDown:Y,ref:F}),(0,s.jsx)("button",{onClick:W,className:"py-1 text-sm transition px-1.5 m-1.5 bg-sankoTvGray outline outline-transparent active:outline-black",children:(0,s.jsx)("img",{className:"w-6 h-6",src:"/assets/chat-emotes/golden-glizzy.png",alt:"Emote"})}),z&&(0,s.jsx)("div",{className:"absolute z-10 bottom-12 right-2",children:(0,s.jsx)(eM.Z,{onIconClick:e=>{_(t=>"".concat(t,":").concat(e,": ")),W()}})}),(0,s.jsx)("button",{className:"px-1.5 py-1 m-1.5 text-sm bg-sankoTvGray transition outline active:outline-black disabled:outline-transparent ".concat(S?"outline-black":"outline-transparent"),onClick:q,children:"Send"})]})]})}var eL=n(64883);function eF(e){let{chatWrapper:t,inProfile:n=!1}=e,{messages:a,isConnected:r,sendMessage:i,sendEmote:o,sendDiceroll:c,sendCoinflip:d,sendReplyMessage:u,isFetchingChatHistory:h,sendDeleteMessage:m,sendKickUser:x,sendBanUser:p,sendUnbanUser:f,bannedUsers:b}=t,{user:v}=(0,g.Z)({from:"privy"}),[w,A]=(0,l.useState)(!1),[j,k]=(0,l.useState)(!1),[y,_]=(0,l.useState)(!1),[E,T]=(0,l.useState)(),[C,P]=(0,l.useState)(!1),[D,R]=(0,l.useState)(()=>{let e=localStorage.getItem("isChatMinimized");return null===e||JSON.parse(e)}),[B,O]=(0,l.useState)(null),{isSmallScreen:M}=(0,J.Z)();(0,l.useEffect)(()=>{localStorage.setItem("isChatMinimized",JSON.stringify(D))},[D]),(0,S.rf)(()=>{null===B&&P(!1)},[B]);let I=()=>er.aB.includes(v.privyAddress),U=async()=>{if(I()&&E)try{A(!1),N.Am.dismiss(),N.Am.success("Kicking ".concat(E.attributes.name)),x(E.attributes.address),T(void 0)}catch(e){console.error(e)}},Z=async()=>{if(I()&&E)try{k(!1),N.Am.dismiss(),N.Am.loading("Banning..."),p(E.attributes.address),T(void 0),await new Promise(e=>setTimeout(e,1e3)),N.Am.dismiss(),N.Am.success("Banned ".concat(E.attributes.name)),b.refetch()}catch(e){console.error(e)}},V=async()=>{if(I()&&E)try{N.Am.dismiss(),N.Am.loading("Unbanning..."),f(E.attributes.address),T(void 0),_(!1),await new Promise(e=>setTimeout(e,1e3)),N.Am.dismiss(),N.Am.success("Unbanned ".concat(E.attributes.name)),b.refetch()}catch(e){console.error(e)}},L={messages:a,onClickUser:e=>{if(I()){if(e.userId===v.privyId){N.Am.dismiss(),N.Am.error("You cannot kick yourself");return}T(e),_(!0)}},isFetchingChatHistory:h,inProfile:n,sendMessage:i,sendEmote:o,sendDiceroll:c,sendCoinflip:d,sendReplyMessage:u,isChatConnected:r,sendDeleteMessage:m,bannedUsers:b,sendUnbanUser:f};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex flex-col items-end",children:[(0,s.jsx)("div",{className:"flex items-center justify-center gap-2 px-3 py-2 text-lg text-white border-2 border-black bg-sankoTvGreen shadow-sankoTvBlack shadow-sankoTvInverted ".concat(D?"":"border-b-0"),children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(eL.Z,{isChatConnected:r}),"TrollBox"]}),!M&&(0,s.jsx)(es.Z,{content:C?"Close popout chat window":"Popout chat to new window",children:(0,s.jsx)("button",{className:"group",onClick:()=>{P(e=>!e)},children:C?(0,s.jsx)(eN.Z,{className:"w-5 h-5 text-white transition duration-75 hover:text-black"}):(0,s.jsx)(H.Z,{className:"w-5 h-5 text-white transition duration-75 group-hover:text-black mb-0.5"})})}),(0,s.jsx)(es.Z,{content:D?"Open chat":"Minimize chat",closeOnClick:!0,children:(0,s.jsx)("button",{className:"group",onClick:()=>{R(e=>!e)},children:D?(0,s.jsx)(eS.Z,{className:"w-5 h-5 text-white transition duration-75 group-hover:text-black mb-0.5"}):(0,s.jsx)(eE.Z,{className:"w-5 h-5 text-white transition duration-75 group-hover:text-black mb-0.5"})})})]})}),(0,s.jsx)("div",{className:D?"hidden":"",children:(0,s.jsx)(eV,{...L,isPoppedOut:!1,inProfile:n,isChatMinimized:D})})]}),C&&(0,s.jsx)(eP.Z,{setPopOutWindow:O,children:(0,s.jsx)(eV,{...L,isPoppedOut:!0})}),(0,s.jsx)(eT.Z,{user:E,bannedUsers:b.data||[],unbanUser:V,isOpen:y,setIsOpen:_,setShowBanUserAlert:k,setShowKickUserAlert:A}),(0,s.jsx)(e_.Z,{user:E,kickUser:U,isOpen:w,setIsOpen:A}),(0,s.jsx)(ey.Z,{user:E,banUser:Z,isOpen:j,setIsOpen:k}),(0,s.jsx)(eC.Z,{})]})}function ez(){let{signedIn:e}=(0,m.Z)(),t=(0,ek.Z)({hostAddress:"GLOBAL_CHAT",canChat:e,isHost:!1});return(0,s.jsx)("div",{className:"flex w-full mb-8 font-bold text-black md:mt-2 font-DSDigital gap-x-5",children:(0,s.jsx)("div",{className:"fixed z-50 ml-2 sm:max-w-md bottom-24 right-2 sm:bottom-2",children:(0,s.jsx)(eF,{chatWrapper:t})})})}function eH(e){let{hideTerms:t,children:n}=e,{isSmallScreen:a}=(0,J.Z)(),[r,o]=(0,l.useState)(!1);return u(()=>{o(!r)}),(0,s.jsxs)("main",{className:"relative flex flex-col items-center justify-start w-full overflow-y-hidden min-h-[100dvh] max-h-[100dvh] font-DSDigital selection-tv ".concat(r&&c().smoketheticker),children:[(0,s.jsx)(i,{}),(0,s.jsx)(I,{}),(0,s.jsxs)("div",{className:"flex flex-row items-start w-full",children:[a?(0,s.jsx)(ef,{}):(0,s.jsx)(ej,{}),(0,s.jsxs)("div",{className:"z-10 w-full font-bold",children:[a?(0,s.jsx)(em,{}):(0,s.jsx)(eh,{}),(0,s.jsxs)("div",{className:"items-center justify-center w-full h-screen px-2 overflow-scroll bg-white sm:px-5 sm:pt-0 pt-[4rem] pb-[12rem] sm:pb-[64px]",children:[n,a&&!t&&(0,s.jsxs)("div",{className:"flex justify-around w-full mt-auto",children:[(0,s.jsx)("a",{href:Y.U,target:"_blank",className:"px-2 py-1 font-bold tracking-normal text-center text-black bg-white border border-black rounded-lg active:shadow-none font-DSDigital shadow-sankoTvBlack hover:shadow-sankoTvWhite",rel:"noreferrer",children:"FAQ"}),(0,s.jsx)("a",{href:Y.wM,target:"_blank",className:"px-2 py-1 font-bold tracking-normal text-center text-black bg-white border border-black rounded-lg active:shadow-none font-DSDigital shadow-sankoTvBlack hover:shadow-sankoTvWhite",rel:"noreferrer",children:"Terms"})]}),(0,s.jsx)(ez,{})]})]})]}),(0,s.jsx)(O,{}),r&&(0,s.jsx)(d,{})]})}},40591:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var s=n(97458),a=n(69004),r=n.n(a);function i(e){let{src:t}=e;return(0,s.jsx)(r(),{src:t,alt:"panel icon",className:"top-[-0.25rem] left-[-1.5rem] w-[2rem] aspect-square drop-shadow-[0_1px_1px_rgb(30_41_59)]"})}},18181:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var s=n(97458),a=n(1609),r=n(17692),i=n(2137),l=n(69004),o=n.n(l);function c(e){let{isOpen:t,setIsOpen:n}=e;return(0,s.jsx)(r.fC,{open:t,children:(0,s.jsxs)(r.h_,{children:[(0,s.jsx)(r.aV,{className:"dialog-overlay",onClick:()=>n(!1)}),(0,s.jsxs)(r.VY,{className:" bg-purple-200 text-sm font-Monego border border-black w-[90vw] max-w-[450px] fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] text-black z-50 h-fit p-4 flex flex-col justify-start rounded-xl tracking-normal",children:[(0,s.jsxs)(r.Dx,{className:"flex items-center gap-1",children:[(0,s.jsx)(o(),{src:a.Z,alt:"boost icon",width:24,height:24}),(0,s.jsx)("b",{children:"Boosts"}),(0,s.jsx)(o(),{src:a.Z,alt:"boost icon",width:24,height:24})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-3 mt-4",children:[(0,s.jsxs)("p",{children:["- Boosts grant ",(0,s.jsx)("b",{children:"free viewing time"})," for a SankoTV streamer, to viewers that do not hold a streamer's pass."]}),(0,s.jsxs)("p",{children:["- Streams are boosted when viewers ",(0,s.jsx)("b",{children:"tip"})," a streamer with"," ",(0,s.jsx)("b",{children:"any gift"}),". More expensive gifts grant ",(0,s.jsx)("b",{children:"more free time"}),"."]}),(0,s.jsxs)("p",{children:["- Boosted streams display a countdown of free time ",(0,s.jsx)("b",{children:"burned"}),". More free viewers will ",(0,s.jsx)("b",{children:"increase the multiplier"})," for the free time burn."]}),(0,s.jsxs)("p",{children:["- Only ",(0,s.jsx)("b",{children:"free viewers"})," will ",(0,s.jsx)("b",{children:"burn"})," free time."]}),(0,s.jsxs)("p",{children:["- ",(0,s.jsx)("b",{children:"Free time remaining"})," at the end of a boosted stream, will"," ",(0,s.jsx)("b",{children:"carry forward"})," to future streams."]})]}),(0,s.jsx)(r.x8,{asChild:!0,onClick:()=>n(!1),children:(0,s.jsx)("button",{className:"absolute inline-flex items-center justify-center rounded-sm appearance-none focus:outline-none top-[10px] right-[10px] h-[25px] w-[25px] focus:shadow-[0_0_0_2px]","aria-label":"Close",children:(0,s.jsx)(i.Pxu,{})})})]})]})})}n(52983)},37198:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var s=n(97458),a=n(63827);function r(e){let{user:t,banUser:n,isOpen:r,setIsOpen:i}=e;return(0,s.jsx)(a.fC,{open:r,children:(0,s.jsxs)(a.h_,{children:[(0,s.jsx)(a.aV,{className:"dialog-overlay"}),(0,s.jsxs)(a.VY,{className:"bg-sankoTvBlue font-DSDigital border border-black w-[90vw] max-w-[350px] fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] text-white z-50 h-fit p-4 flex flex-col justify-start rounded-xl",children:[(0,s.jsxs)(a.Dx,{className:"text-lg",children:["Are you sure you want to ban ",null==t?void 0:t.attributes.name,"?"]}),(0,s.jsxs)("div",{className:"flex justify-end gap-4 mt-4",children:[(0,s.jsx)(a.$j,{asChild:!0,onClick:()=>i(!1),children:(0,s.jsx)("button",{className:"px-2 py-1 mt-2 text-black transition bg-white border border-black rounded active:text-white active:bg-black",children:"Cancel"})}),(0,s.jsx)(a.aU,{asChild:!0,children:(0,s.jsx)("button",{onClick:n,className:"px-2 py-1 mt-2 text-white transition bg-black rounded hover:bg-red-500",children:"Ban"})})]})]})]})})}},97258:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var s=n(97458),a=n(63827);function r(e){let{user:t,kickUser:n,isOpen:r,setIsOpen:i}=e;return(0,s.jsx)(a.fC,{open:r,children:(0,s.jsxs)(a.h_,{children:[(0,s.jsx)(a.aV,{className:"dialog-overlay"}),(0,s.jsxs)(a.VY,{className:"bg-sankoTvBlue font-DSDigital border border-black w-[90vw] max-w-[350px] fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] text-white z-50 h-fit p-4 flex flex-col justify-start rounded-xl",children:[(0,s.jsxs)(a.Dx,{className:"text-lg",children:["Are you sure you want to kick ",null==t?void 0:t.attributes.name,"?"]}),(0,s.jsxs)("div",{className:"flex justify-end gap-4 mt-4",children:[(0,s.jsx)(a.$j,{asChild:!0,onClick:()=>i(!1),children:(0,s.jsx)("button",{className:"px-2 py-1 mt-2 text-black transition bg-white border border-black rounded active:text-white active:bg-black",children:"Cancel"})}),(0,s.jsx)(a.aU,{asChild:!0,children:(0,s.jsx)("button",{onClick:n,className:"px-2 py-1 mt-2 text-white transition bg-black rounded hover:bg-red-500",children:"Kick"})})]})]})]})})}},10687:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var s=n(97458),a=n(52983),r=n(53900),i=n(90985),l=n(27554),o=n(45612),c=n(93642),d=n(15647),u=n(45158),h=n(61167),m=n(17692),x=n(2137),p=n(49934),f=n(91838),b=n(98680),g=n(5122),v=n(7738),w=n(18181);let A={method:{},title:{required:"A stream title is required",maxLength:{value:128,message:"Please make a shorter stream title"}},desc:{required:"A stream description is required",maxLength:{value:1024,message:"Please make a shorter stream description"}},thumbnail:{validate:{lessThan4MB:e=>!e||0===e.length||e[0].size<=4194304||"Thumbnail must be less than 4MB"}},isBoostingEnabled:{},isNsfw:{}},j=[{value:"webcam",title:"Webcam",desc:"Needs camera and mic permission approval"},{value:"obs",title:"OBS",desc:"Stream server and key will be shown in the next page"}];function k(e){let{children:t,isEditMode:n}=e,{signedIn:k}=(0,i.Z)(),{login:y}=(0,u.sv)(),{user:_}=(0,c.Z)({from:"privy"}),N=(0,f.useRouter)(),{stream:S,refetchStreams:E}=(0,o.Q)({inStreamPage:!1}),{register:T,handleSubmit:C,reset:P,formState:{errors:D},control:R,setValue:B}=(0,b.cI)({defaultValues:{title:"",desc:"",method:"obs",isBoostingEnabled:!0,isNsfw:!1}}),[O,M]=(0,a.useState)(!1),[I,U]=(0,a.useState)(!1),{setIsAccountModalVisible:Z}=(0,r.A)(),{isRegistered:V}=(0,l.p)(),[L,F]=(0,a.useState)(!1),[z,H]=(0,a.useState)(0),[W,Q]=(0,a.useState)(!1),[G,q]=(0,a.useState)(!1);(0,a.useEffect)(()=>{S&&n&&(B("title",S.title),B("desc",S.desc),B("method",S.isObs?"obs":"webcam"),B("isBoostingEnabled",S.isBoostingEnabled),B("isNsfw",S.isNsfw))},[S,B]);let Y=async()=>{let e=await fetch("/api/user/boost-remaining"),{boostRemaining:t}=await e.json();H(t)},K=async e=>{U(!0),g.Am.dismiss(),g.Am.loading(n?"Editing stream...":"Creating stream...");let{method:t,title:s,desc:a,thumbnail:r,isBoostingEnabled:i,isNsfw:l}=e,o=new FormData;o.append("method",t),o.append("title",s),o.append("desc",a),r&&o.append("thumbnail",r[0]),n&&o.append("isNewThumbnailEnabled",String(G)),o.append("isBoostingEnabled",String(i)),o.append("isNsfw",String(l));let c=await fetch("/api/streams",{method:n?"PUT":"POST",body:o});U(!1),c.ok?(P(),g.Am.dismiss(),g.Am.loading("Loading stream..."),g.Am.success(n?"Stream edited!":"Stream created!"),await E(),g.Am.dismiss(),M(!1),N.push("/".concat(_.twitterUsername))):(g.Am.dismiss(),g.Am.error("Failed to ".concat(n?"edit":"create"," stream")))},J=()=>!n||n&&!S.isLive;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(m.fC,{open:O,children:[(0,s.jsx)(m.xz,{asChild:!0,onClick:()=>{if(k){if(!V){Z(!0);return}}else{y();return}M(!0),Y()},children:t}),(0,s.jsxs)(m.h_,{children:[(0,s.jsx)(m.aV,{className:"dialog-overlay",onClick:()=>M(!1)}),(0,s.jsxs)(m.VY,{className:"bg-sankoTvBlue font-DSDigital border border-black w-[90vw] max-w-[450px] fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] text-white z-50 h-fit p-4 flex flex-col justify-start rounded-xl",children:[(0,s.jsx)(m.Dx,{className:"m-0 text-lg",children:"".concat(n?"Edit":"Create"," Stream")}),(0,s.jsxs)("form",{onSubmit:C(K),className:"flex flex-col mt-6 gap-y-5",children:[(0,s.jsxs)("label",{className:"flex flex-col gap-y-1",children:["Stream from:",(0,s.jsx)(v.Z,{content:"Not editable during a stream",disabled:J(),verticalOffset:20,children:(0,s.jsx)("div",{children:(0,s.jsx)(b.Qr,{control:R,name:"method",rules:A.method,render:e=>{let{field:{onChange:t,...n}}=e;return(0,s.jsx)(p.fC,{className:"flex",disabled:!J(),onValueChange:e=>t(e),...n,children:j.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-start flex-grow-1 basis-1/2",children:[(0,s.jsx)(p.ck,{className:"bg-white rounded-full outline-none cursor-default mt-0.5 min-w-[12px] min-h-[12px] hover:bg-opacity-95 focus:shadow-[0_0_0_2px] focus:shadow-black",value:e.value,id:"r".concat(t),children:(0,s.jsx)(p.z$,{className:"relative flex items-center justify-center w-full h-full after:content-[''] after:block after:w-[8px] after:h-[8px] after:rounded-[50%] after:bg-black"})}),(0,s.jsxs)("label",{className:"pl-2 leading-none text-white text-[15px]",htmlFor:"r".concat(t),children:[(0,s.jsx)("div",{children:e.title}),(0,s.jsx)("p",{className:"text-xs text-gray-200 mt-0.5",children:e.desc})]})]},t))})}})})})]}),(0,s.jsxs)("label",{className:"flex flex-col gap-y-1",children:["Title:",(0,s.jsx)("input",{...T("title",A.title),type:"text",className:"text-black rounded"})]}),(0,s.jsxs)("label",{className:"flex flex-col gap-y-1",children:["Description:",(0,s.jsx)("textarea",{...T("desc",A.desc),rows:3,className:"text-black rounded"})]}),(0,s.jsxs)("label",{className:"flex flex-col gap-y-1",children:[(0,s.jsxs)("div",{children:["Thumbnail: ",(0,s.jsx)("span",{className:"text-gray-200",children:"(optional)"})]}),n&&(0,s.jsxs)("div",{className:"flex flex-col gap-1 -mt-1 text-gray-200 text-sm ".concat(G?"mb-1":""),children:[(0,s.jsx)("div",{children:"Use a new thumbnail? (currently using ".concat((()=>{if(!S||!S.thumbnail)return"No thumbnail";let e=S.thumbnail.split("thumbnails/");if(2!==e.length)return"";let t=e[1];return t.slice(13,t.length)})(),")")}),(0,s.jsx)(h.fC,{className:"flex items-center justify-center transition duration-75 bg-white outline-none appearance-none h-[22px] w-[22px] rounded-[4px] focus:shadow-[0_0_0_2px_black]",onCheckedChange:e=>q(e),checked:G,children:(0,s.jsx)(h.z$,{className:"text-black w",children:(0,s.jsx)(x.nQG,{})})})]}),(!n||n&&G)&&(0,s.jsx)("input",{...T("thumbnail",A.thumbnail),type:"file",accept:"image/png, image/jpeg, image/gif, image/bmp, image/webp, image/svg+xml"})]}),(0,s.jsx)(v.Z,{content:"Not editable during a stream",disabled:!n||W,verticalOffset:-8,children:(0,s.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,s.jsxs)("label",{className:"flex items-center gap-1",htmlFor:"boosting",children:["Enable boosting?",(0,s.jsx)("button",{type:"button",onMouseEnter:()=>Q(!0),onMouseLeave:async()=>{await new Promise(e=>setTimeout(e,1e3)),Q(!1)},children:(0,s.jsx)(v.Z,{content:(0,s.jsxs)("div",{className:"pointer-events-none w-[250px]",children:[(0,s.jsx)("span",{children:"Boosts unlock the ability to open a stream up to non-pass holders.\xa0"}),(0,s.jsx)("button",{className:"tracking-widest text-purple-400 underline pointer-events-auto",type:"button",onClick:()=>F(!0),children:"Learn more"})]}),children:(0,s.jsx)(d.Z,{className:"w-4 h-4"})})})]}),z>0&&(0,s.jsxs)("div",{className:"-mt-1 text-sm text-gray-200",children:["You have\xa0",(0,s.jsx)("span",{className:"text-white",children:(()=>{let e=Math.floor(z/3600),t=Math.floor(z%3600/60),n=z%60;return"".concat(e>0?"".concat(e," hours"):"").concat(t>0?" ".concat(t," min"):"").concat(n>0?" ".concat(n," sec"):"")})()}),"\xa0of leftover boost"]}),(0,s.jsx)(b.Qr,{control:R,name:"isBoostingEnabled",rules:A.isBoostingEnabled,defaultValue:!0,render:e=>{let{field:{onChange:t,value:a,...r}}=e;return(0,s.jsx)(h.fC,{className:"flex items-center justify-center transition duration-75 bg-white outline-none appearance-none h-[22px] w-[22px] rounded-[4px] focus:shadow-[0_0_0_2px_black]",id:"boosting",onCheckedChange:e=>t(e),disabled:n,checked:a,...r,children:(0,s.jsx)(h.z$,{className:"text-black",children:(0,s.jsx)(x.nQG,{})})})}})]})}),(0,s.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,s.jsx)("label",{htmlFor:"nsfw",children:"Is 18+?"}),(0,s.jsx)(b.Qr,{control:R,name:"isNsfw",rules:A.isNsfw,render:e=>{let{field:{onChange:t,value:n,...a}}=e;return(0,s.jsx)(h.fC,{className:"flex items-center justify-center transition duration-75 bg-white outline-none appearance-none h-[22px] w-[22px] rounded-[4px] focus:shadow-[0_0_0_2px_black]",id:"nsfw",onCheckedChange:e=>t(e),checked:n,...a,children:(0,s.jsx)(h.z$,{className:"text-black",children:(0,s.jsx)(x.nQG,{})})})}})]}),(0,s.jsx)("button",{className:"py-1 mt-2 text-black transition bg-white border border-black rounded active:text-white active:bg-black",type:"submit",disabled:I,onClick:()=>{for(let t of["title","desc","thumbnail"])if(D[t]){var e;g.Am.dismiss(),g.Am.error((null===(e=D[t])||void 0===e?void 0:e.message)||"");return}},children:n?"Confirm Edits":"Host Stream"})]}),(0,s.jsx)(m.x8,{asChild:!0,onClick:()=>M(!1),children:(0,s.jsx)("button",{className:"absolute inline-flex items-center justify-center text-white rounded-md appearance-none hover:text-black focus:text-black focus:outline-none active:text-black top-3 right-3 h-[25px] w-[25px] focus:shadow-[0_0_0_2px]","aria-label":"Close",children:(0,s.jsx)(x.Pxu,{})})})]})]})]}),(0,s.jsx)(w.Z,{isOpen:L,setIsOpen:F})]})}},26564:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var s=n(97458),a=n(63827),r=n(5122);function i(e){let{user:t,bannedUsers:n,unbanUser:i,isOpen:l,setIsOpen:o,setShowBanUserAlert:c,setShowKickUserAlert:d}=e;return(0,s.jsx)(a.fC,{open:l,children:(0,s.jsxs)(a.h_,{children:[(0,s.jsx)(a.aV,{className:"dialog-overlay"}),(0,s.jsxs)(a.VY,{className:"bg-sankoTvBlue font-DSDigital border border-black w-[90vw] max-w-[350px] fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] text-white z-50 h-fit p-4 flex flex-col justify-start rounded-xl",children:[(0,s.jsxs)(a.Dx,{className:"text-lg",children:["Select an action for ",null==t?void 0:t.attributes.name]}),(0,s.jsxs)("div",{className:"flex justify-end gap-4 mt-4",children:[(0,s.jsx)(a.$j,{asChild:!0,onClick:()=>o(!1),children:(0,s.jsx)("button",{className:"px-2 py-1 mt-2 text-black transition bg-white border border-black rounded active:text-white active:bg-black",children:"Cancel"})}),(0,s.jsx)(a.aU,{asChild:!0,children:(0,s.jsx)("button",{onClick:()=>{o(!1),d(!0)},className:"px-2 py-1 mt-2 text-white transition bg-black rounded hover:bg-red-500",children:"Kick"})}),(0,s.jsx)(a.aU,{asChild:!0,children:n.some(e=>e.twitterUsername===(null==t?void 0:t.attributes.name))?(0,s.jsx)("button",{onClick:()=>{var e;let s=null===(e=n.find(e=>e.twitterUsername===(null==t?void 0:t.attributes.name)))||void 0===e?void 0:e.privyAddress;s?i(s):(r.ZP.dismiss(),r.ZP.error("Unable to ban user"))},className:"px-2 py-1 mt-2 text-white transition bg-black rounded hover:bg-red-500",children:"Unban"}):(0,s.jsx)("button",{onClick:()=>{o(!1),c(!0)},className:"px-2 py-1 mt-2 text-white transition bg-black rounded hover:bg-red-500",children:"Ban"})})]})]})]})})}},73550:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var s=n(97458),a=n(7738),r=n(45612),i=n(58697),l=n(93642),o=n(39400),c=n(70934),d=n(41531),u=n(17692),h=n(2137),m=n(69004),x=n.n(m),p=n(52983),f=n(86057),b=n(16675);function g(e){let{isVisible:t,setIsVisible:n}=e,{streamer:m,refetchStreams:g}=(0,r.Q)(),{user:v}=(0,l.Z)({from:"privy"}),[w,A]=(0,p.useState)(1),{ownedPasses:j,sellPrice:k,buyPrice:y,buyPasses:_,sellPasses:N,refetchPassesInfo:S}=(0,i.Z)({streamerUsername:m.twitterUsername||"",streamerAddress:m.privyAddress,numPasses:w,referrer:v.referrerAddress,onSuccess:()=>{g()}}),E=async()=>{await _()&&setTimeout(()=>{n(!1)},500)},T=async()=>{await N()&&setTimeout(()=>{n(!1)},500)};return(0,f.rf)(()=>{t&&S()},[t]),(0,s.jsx)(u.fC,{open:t,children:(0,s.jsxs)(u.h_,{children:[(0,s.jsx)(u.aV,{className:"dialog-overlay",onClick:()=>n(!1)}),(0,s.jsxs)(u.VY,{className:"bg-sankoTvLightBlue font-DSDigital border border-black w-[90vw] max-w-[450px] fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] text-black z-50 h-fit p-4 flex flex-col justify-start rounded-xl",onOpenAutoFocus:e=>e.preventDefault(),children:[(0,s.jsx)(u.Dx,{className:"m-0 text-lg",children:"Trade your passes"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,s.jsx)(x(),{src:m.twitterImg,alt:m.twitterUsername||"twitter image",height:50,width:50,className:"rounded-md"}),(0,s.jsxs)("div",{className:"text-gray-600",children:[(0,s.jsx)("div",{children:m.twitterUsername}),(0,s.jsx)("div",{children:"You own ".concat(j," ").concat((0,o._6)("pass",j))})]})]}),(0,s.jsx)("div",{className:"flex flex-col items-center justify-center w-full mt-2 mb-4",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("input",{className:"w-12 px-1 text-xl text-black pass-quantity h-9 rounded-l-md",value:w,onChange:e=>{let t=Number(e.target.value);A(t=Math.min(Math.max(t,0),999))},onKeyDown:e=>{/[0-9]/.test(e.key)||"Backspace"===e.key||e.preventDefault()}}),(0,s.jsx)("button",{className:"px-2 bg-white opacity-100 hover:bg-gray-200 input-number",onClick:()=>{A(e=>e>1?e-1:1)},disabled:w<=1,children:(0,s.jsx)(c.Z,{className:"w-4 h-4 text-sankoTvBlue"})}),(0,s.jsx)("button",{className:"px-2 bg-white hover:bg-gray-200 rounded-r-md",onClick:()=>{A(e=>e+1)},disabled:999===w,children:(0,s.jsx)(d.Z,{className:"w-4 h-4 text-sankoTvBlue"})})]})}),(0,s.jsxs)("div",{className:"flex justify-between w-full gap-8",children:[(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("button",{className:"w-full py-1 text-white transition border border-black rounded active:bg-black basis-1/2 bg-sankoTvGreen",onClick:E,children:"BUY"}),(0,s.jsxs)("div",{className:"mt-1 text-gray-600",children:[(0,s.jsx)("div",{children:"Buy Total:"}),(0,s.jsxs)("div",{children:[(0,b.d)(y)," ETH"]})]})]}),(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)(a.Z,{content:"Not enough passes",disabled:w<=j,children:(0,s.jsx)("button",{className:"w-full py-1 text-white transition border border-black rounded active:bg-black basis-1/2 bg-sankoTvRed",onClick:T,disabled:!(w<=j),children:"SELL"})}),(0,s.jsxs)("div",{className:"text-gray-600 text-right mt-1 ".concat(w<=j?"":"invisible"),children:[(0,s.jsx)("div",{children:"Sell Total:"}),(0,s.jsxs)("div",{children:[(0,b.d)(k)," ETH"]})]})]})]}),(0,s.jsx)(u.x8,{asChild:!0,onClick:()=>n(!1),children:(0,s.jsx)("button",{className:"absolute inline-flex items-center justify-center text-black rounded-md appearance-none focus:outline-none top-3 right-3 h-[25px] w-[25px] focus:shadow-[0_0_0_2px]","aria-label":"Close",children:(0,s.jsx)(h.Pxu,{})})})]})]})})}function v(e){let{isVisible:t,setIsVisible:n}=e,{streamer:c,refetchStreams:d}=(0,r.Q)(),{user:m}=(0,l.Z)({from:"privy"}),{ownedPasses:p,sellPrice:g,buyPrice:v,buyPasses:w,sellPasses:A,refetchPassesInfo:j}=(0,i.Z)({streamerUsername:c.twitterUsername||"",streamerAddress:c.privyAddress,numPasses:1,referrer:m.referrerAddress,onSuccess:()=>{d()}}),k=async()=>{await w()&&setTimeout(()=>{n(!1)},500)},y=async()=>{await A()&&setTimeout(()=>{n(!1)},500)};return(0,f.rf)(()=>{t&&j()},[t]),(0,s.jsx)(u.fC,{open:t,children:(0,s.jsxs)(u.h_,{children:[(0,s.jsx)(u.aV,{className:"dialog-overlay",onClick:()=>n(!1)}),(0,s.jsxs)(u.VY,{className:"bg-sankoTvLightGreen font-DSDigital border border-black w-[90vw] max-w-[450px] fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] text-black z-50 h-fit p-4 flex flex-col justify-start rounded-xl",children:[(0,s.jsx)(u.Dx,{className:"m-0 text-lg",children:"Trade ".concat(c.twitterUsername,"'s passes")}),(0,s.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,s.jsx)(x(),{src:c.twitterImg,alt:c.twitterUsername||"twitter image",height:50,width:50,className:"rounded-md"}),(0,s.jsxs)("div",{className:"text-gray-600",children:[(0,s.jsxs)("div",{children:["Pass price: ",(0,b.d)(v)," ETH"]}),(0,s.jsx)("div",{children:"You own ".concat(p," ").concat((0,o._6)("pass",p))})]})]}),(0,s.jsxs)("div",{className:"flex gap-6 mt-2",children:[(0,s.jsx)("button",{className:"py-1 mt-2 text-white transition border border-black rounded active:bg-black basis-1/2 bg-sankoTvGreen",onClick:k,children:"BUY"}),(0,s.jsx)(a.Z,{content:"Not enough passes",disabled:p>0,children:(0,s.jsx)("button",{className:"py-1 mt-2 text-white transition border border-black rounded active:bg-black basis-1/2 bg-sankoTvRed",onClick:y,disabled:0===p,children:"SELL"})})]}),(0,s.jsxs)("div",{className:"mt-2 ml-auto text-gray-600",children:["Sell price: ",(0,b.d)(g)]}),(0,s.jsx)(u.x8,{asChild:!0,onClick:()=>n(!1),children:(0,s.jsx)("button",{className:"absolute inline-flex items-center justify-center text-black rounded-md appearance-none focus:outline-none top-3 right-3 h-[25px] w-[25px] focus:shadow-[0_0_0_2px]","aria-label":"Close",children:(0,s.jsx)(h.Pxu,{})})})]})]})})}var w=n(49391),A=n(81842);function j(){let{setIsStreamerPassesModalVisible:e,isStreamerPassesModalVisible:t}=(0,A.a)(),{setIsOwnPassesModalVisible:n,isOwnPassesModalVisible:a}=(0,w._)();return t?(0,s.jsx)(v,{isVisible:!0,setIsVisible:e}):a?(0,s.jsx)(g,{isVisible:!0,setIsVisible:n}):null}},53900:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});var s=n(47098),a=n(91476);let r=()=>{let e=(0,s.NL)(),{data:t=!1}=(0,a.a)({queryKey:["isAccountModalVisible"],queryFn:()=>!1,cacheTime:0,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1});return{isAccountModalVisible:t,setIsAccountModalVisible:t=>{e.setQueryData(["isAccountModalVisible"],t)}}}},90985:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var s=n(45158);function a(){let{ready:e,authenticated:t}=(0,s.sv)();return{ready:e,signedIn:e&&t}}},13232:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var s=n(11401),a=n(91476),r=n(15679),i=n(52983),l=n(5122),o=n(90985),c=n(39400),d=n(60331),u=n(26312),h=n(79363),m=n(86057);let x=e=>{let{hostAddress:t,canChat:n}=e,[l,o]=(0,i.useState)([]),[x,p]=(0,i.useState)(!1),[f,b]=(0,m._)("uniqueId",""),{data:g,isLoading:v,isError:w,isFetching:A,refetch:j,failureReason:k}=(0,a.a)({queryKey:[t,"chat"],queryFn:()=>{let e={};if(h.cm){let t=r.parse(document.cookie)["privy-token"];t&&(e["privy-token"]=t)}return f&&(e["unique-id"]=f),(0,s.q)("".concat(u.oH,"/api/chat/").concat(t),Object.keys(e).length>0?{headers:e}:void 0)},enabled:n&&!x,placeholderData:[],refetchOnMount:!0,refetchOnReconnect:!1,refetchOnWindowFocus:!1});(0,i.useEffect)(()=>{w&&k&&403===(null==k?void 0:k.status)&&p(!0)},[w,k]);let y={id:(0,c.D1)(),content:"CHAT DISCONNECTED...",sendTime:new Date,sender:{userId:"system",attributes:{name:"system"}},isSystemEvent:!0},_={id:(0,c.D1)(),content:"CHAT CONNECTED...",sendTime:new Date,sender:{userId:"system",attributes:{name:"system"}},isSystemEvent:!0};return(0,i.useEffect)(()=>{g&&o((0,d.h7)(g))},[g]),{chatHistory:l,isLoading:v,isError:w,isFetching:A,injectNewChatLog:e=>{l&&o(t=>[...t,(0,d.Hw)(e)])},onDisconnect:()=>{l&&o(e=>[...e,y])},onConnect:()=>{l&&o(e=>[...e,_])},onDeletedMessage:e=>{l&&o(t=>t.filter(t=>t.id!==e))},refetchChatHistory:j,isChatBanned:x}};var p=n(10120);function f(e){let{hostAddress:t,canChat:n,isHost:c}=e,d=(0,i.useRef)(null),{signedIn:f}=(0,o.Z)(),b=(0,i.useRef)(void 0),[g,v]=(0,i.useState)(!1),[w,A]=(0,i.useState)(!1),[j,k]=(0,i.useState)(null),[y,_]=(0,i.useState)(null),[N,S]=(0,i.useState)(!1),{publishGiftMintEvent:E}=(0,p.l)(),[T,C]=(0,m._)("uniqueId",""),{chatHistory:P,isFetching:D,injectNewChatLog:R,onDeletedMessage:B,refetchChatHistory:O,isChatBanned:M}=x({hostAddress:t,canChat:n}),{data:I,isLoading:U,isFetching:Z,refetch:V}=(0,a.a)({queryKey:[t,"chatBans"],queryFn:()=>{let e;return h.cm&&(e={"privy-token":r.parse(document.cookie)["privy-token"]}),(0,s.q)("".concat(u.oH,"/api/chat/").concat(t,"/banned"),e?{headers:e}:void 0)},enabled:c,placeholderData:[],refetchOnMount:!0}),L=()=>{if(d.current&&d.current.readyState===WebSocket.OPEN){console.log("CHAT SERVER CONNECT CANCELLED, ALREADY CONNECTED");return}let e=r.parse(document.cookie)["privy-token"],n="".concat(u.tC,"/ws?streamerAddress=").concat(t);return e||(n="".concat(n,"&uniqueId=").concat(T)),h.cm&&e&&(n="".concat(n,"&auth=").concat(e)),d.current=new WebSocket(n),d.current.onmessage=async e=>{let t=JSON.parse(e.data);switch(t.event){case"PONG":S(!1),v(!0);break;case"GIFT":{await new Promise(e=>setTimeout(e,5e3));let{event:e}=t.data;E(e),R(t.data);break}case"CHAT":case"EMOTE":case"DICEROLL":case"COINFLIP":case"app:STREAMER_START":case"app:STREAMER_PAUSE":case"app:STREAMER_RESUME":case"app:STREAMER_END":R(t.data);break;case"app:FORCE_DISCONNECT":A(!0);break;case"app:DELETED_MESSAGE":if("string"!=typeof t.data)return;B(t.data);break;default:console.log("CHAT SERVER WEBSOCKET MESSAGE",e)}},d.current.onopen=()=>{console.log("CHAT SERVER WEBSOCKET CONNECTED"),g||v(!0),null!=j&&(clearInterval(j),k(null)),k(setInterval(()=>{d.current||v(!1),d.current&&d.current.readyState===WebSocket.OPEN&&(d.current.send(JSON.stringify({event:"PING"})),S(!0),_(setTimeout(()=>{N&&v(!1)},2e4)))},2e4))},d.current.onclose=e=>{console.log("CHAT SERVER WEBSOCKET CLOSED",e),v(!1)},d.current.onerror=e=>{console.error("WebSocket Error:",e),l.ZP.error("CHAT SERVER ERROR"),v(!1)},()=>{d.current&&d.current.close(),null!=j&&(clearInterval(j),k(null)),null!=y&&(clearTimeout(y),_(null))}};(0,i.useEffect)(()=>{if(!g&&n&&!w){console.log("CHAT SERVER NOT CONNECTED, CONNECTING");try{b.current=L()}catch(e){console.error(e)}}},[g,n,f]),(0,i.useEffect)(()=>()=>{console.log("CHAT SERVER DISCONNECTING"),b.current&&b.current(),v(!1)},[]);let F=()=>!!d.current&&d.current.readyState===WebSocket.OPEN||(l.ZP.error("Chat is not connected"),!1);return{messages:P,isConnected:g,sendMessage:e=>{d.current&&F()&&d.current.send(JSON.stringify({event:"CHAT",data:e}))},sendEmote:e=>{d.current&&F()&&d.current.send(JSON.stringify({event:"EMOTE",data:e}))},sendDiceroll:e=>{d.current&&F()&&d.current.send(JSON.stringify({event:"DICEROLL",data:e}))},sendCoinflip:()=>{d.current&&F()&&d.current.send(JSON.stringify({event:"COINFLIP"}))},sendReplyMessage:e=>{d.current&&F()&&d.current.send(JSON.stringify({event:"REPLY_MESSAGE",data:e}))},sendKickUser:e=>{d.current&&F()&&d.current.send(JSON.stringify({event:"app:KICK_USER",data:e}))},sendBanUser:e=>{d.current&&F()&&d.current.send(JSON.stringify({event:"app:BAN_USER",data:e}))},sendUnbanUser:e=>{d.current&&F()&&d.current.send(JSON.stringify({event:"app:UNBAN_USER",data:e}))},sendDeleteMessage:e=>{d.current&&F()&&d.current.send(JSON.stringify({event:"app:DELETE_MESSAGE",data:e}))},sendStreamerEvent:e=>{d.current&&F()&&d.current.send(JSON.stringify({event:e}))},injectNewChatLog:R,isFetchingChatHistory:D,refetchChatHistory:O,connect:L,bannedUsers:{data:I,isLoading:U,isFetching:Z,refetch:V,userIsChatBanned:M}}}},10120:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});var s=n(47098),a=n(91476);let r=()=>{let e=(0,s.NL)(),{data:t}=(0,a.a)({queryKey:["newlyMintedGift"],queryFn:()=>null,cacheTime:0,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1});return{newlyMintedGift:t,publishGiftMintEvent:t=>{e.setQueryData(["newlyMintedGift"],t)}}}},14601:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var s=n(91838);function a(){return{twitterUsername:(0,s.useRouter)().query.twitterUsername}}},52866:function(e,t,n){"use strict";var s=n(52983);t.Z=()=>{let[e,t]=(0,s.useState)(!1),[n,a]=(0,s.useState)(!1),[r,i]=(0,s.useState)(!1),[l,o]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=()=>{t(window.innerWidth<=475),a(window.innerWidth<=640),i(window.innerWidth<=768),o(window.innerWidth<=1024)};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},[]),{isExtraSmallScreen:e,isSmallScreen:n,isMediumScreen:r,isLargeScreen:l}}},49391:function(e,t,n){"use strict";n.d(t,{_:function(){return c}});var s=n(45158),a=n(47098),r=n(91476),i=n(53900),l=n(90985),o=n(27554);let c=()=>{let e=(0,a.NL)(),{signedIn:t}=(0,l.Z)(),{login:n}=(0,s.sv)(),{hasEth:c}=(0,o.p)(),{setIsAccountModalVisible:d}=(0,i.A)(),{data:u=!1}=(0,r.a)({queryKey:["isOwnPassesModalVisible"],queryFn:()=>!1,cacheTime:0,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1});return{isOwnPassesModalVisible:u,setIsOwnPassesModalVisible:s=>{if(s){if(t){if(!c){d(!0);return}}else{n();return}}e.setQueryData(["isOwnPassesModalVisible"],s)}}}},22885:function(e,t,n){"use strict";n.d(t,{h:function(){return l}});var s=n(11401),a=n(91476),r=n(14601);let i={followers:[],followings:[],portfolioTotal:0},l=()=>{let e=(0,r.Z)(),{data:t,isLoading:n,isError:l,refetch:o}=(0,a.a)(["portfolio",e.twitterUsername],()=>(0,s.r)("/api/streams/".concat(e.twitterUsername,"/portfolio")),{placeholderData:i,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1}),{followers:c,followings:d,portfolioTotal:u}=t||i;return{followers:c,followings:d,portfolioTotal:u,isLoading:n,isError:l,refetchPortfolio:o}}},27554:function(e,t,n){"use strict";n.d(t,{p:function(){return i}});var s=n(79363),a=n(9582),r=n(90985);let i=()=>{let{signedIn:e}=(0,r.Z)(),{address:t}=(0,a.mA)(),{data:n}=(0,a.KQ)({address:t,enabled:!!t&&e}),{data:i,refetch:l}=(0,a.do)({...s.zV,functionName:"passesBalance",args:[t,t],enabled:!!t&&e}),o={hasEth:((null==n?void 0:n.value)||0)>0,hasAPass:((null==i?void 0:i.at(0))||0)>0};return{isRegistered:e&&(null==o?void 0:o.hasEth)&&(null==o?void 0:o.hasAPass),hasEth:e&&(null==o?void 0:o.hasEth),hasAPass:e&&(null==o?void 0:o.hasAPass),refetch:l}}},45612:function(e,t,n){"use strict";n.d(t,{Q:function(){return d}});var s=n(11401),a=n(91476),r=n(52983),i=n(14601),l=n(93642);let o=(e,t)=>(0,s.r)("/api/streams/".concat(e),{headers:t?{"Unique-ID":t}:{}}),c={isLive:!1,stream:null,prevStreams:[],streamer:{},canWatch:!1,canChat:!1,passes:0,keys:0,requireNsfwAgreement:!1},d=function(){let{inStreamPage:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inStreamPage:!0},t=(0,i.Z)(),{user:n}=(0,l.Z)({from:"privy"}),[s,d]=(0,r.useState)(5e3),u=e?t.twitterUsername:"---"!==n.twitterUsername&&n.twitterUsername||void 0,{data:h,refetch:m,isLoading:x,isError:p,isFetched:f}=(0,a.a)({queryKey:["stream",u],queryFn:()=>{let e=localStorage.getItem("uniqueId");return o(u,e&&'""'!==e?e:"")},enabled:!!u,placeholderData:c,retry:!1,staleTime:1e3,refetchInterval:s,refetchIntervalInBackground:!0,onSuccess:e=>{d(!!(e.isLive&&e.stream&&!e.stream.isLive)&&5e3)}}),{isLive:b,stream:g,prevStreams:v,streamer:w,canWatch:A,canChat:j,keys:k,passes:y,requireNsfwAgreement:_}=h||c;return{isLive:b,isHostingStream:(null==g?void 0:g.isLive)||g&&!g.isLive&&!g.ended,keys:k,passes:y,stream:g,prevStreams:v,refetchStreams:m,streamer:{...w,img:w.twitterImg},canWatch:A,canChat:j,requireNsfwAgreement:_||!1,isLoading:x,isFetched:f,isError:p}}},81842:function(e,t,n){"use strict";n.d(t,{a:function(){return d}});var s=n(45158),a=n(47098),r=n(91476),i=n(53900),l=n(90985),o=n(27554),c=n(93642);let d=()=>{let e=(0,a.NL)(),{signedIn:t}=(0,l.Z)(),{login:n}=(0,s.sv)(),{hasEth:d}=(0,o.p)(),{setIsAccountModalVisible:u}=(0,i.A)(),{user:h}=(0,c.Z)({from:"privy"}),{data:m=!1}=(0,r.a)({queryKey:["isStreamerPassesModalVisible"],queryFn:()=>!1,cacheTime:0,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1});return{isStreamerPassesModalVisible:m,setIsStreamerPassesModalVisible:s=>{if(s){if(t){if(!d||!h.twitterUsername){u(!0);return}}else{n();return}}e.setQueryData(["isStreamerPassesModalVisible"],s)}}}},58697:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var s=n(39400),a=n(58522),r=n(79363),i=n(45158),l=n(52983),o=n(5122),c=n(90784),d=n(16675),u=n(42026),h=n(9582),m=n(22885),x=n(45612);function p(e){let{streamerUsername:t,streamerAddress:n,numPasses:p,referrer:f,...b}=e,g=(0,l.useCallback)(e=>{console.error(e),o.ZP.dismiss(),e.message.includes("insufficient funds")?o.ZP.error("Insufficient funds"):e.message.includes("rejected")?o.ZP.error("User rejected transaction"):o.ZP.error("Passes transaction failed")},[]),v=b.onError||g,{address:w}=(0,h.mA)(),{sendTransaction:A}=(0,i.sv)(),{refetchStreams:j}=(0,x.Q)(),{refetchPortfolio:k}=(0,m.h)(),y=[{...r.zV,functionName:"getBuyPriceAfterFee",args:[n,BigInt(p)]},{...r.zV,functionName:"getSellPriceAfterFee",args:[n,BigInt(p)]},{...r.zV,functionName:"passesBalance",args:[n,w]},{...r.zV,functionName:"passesSupply",args:[n]}],{data:_,refetch:N}=(0,h.Dm)({contracts:y,enabled:void 0!==n&&"---"!==n,select:e=>{var t,n,s,a;return{buyPrice:null!==(t=e[0].result)&&void 0!==t?t:0n,sellPrice:null!==(n=e[1].result)&&void 0!==n?n:0n,passesBalance:null!==(s=e[2].result)&&void 0!==s?s:[0n,0n,0n],passesSupply:null!==(a=e[3].result)&&void 0!==a?a:0n}}}),{buyPrice:S,sellPrice:E,passesBalance:T,passesSupply:C}=null!=_?_:{},[P,D,R]=null!=T?T:[0n,0n,0n],B=async e=>{let{args:n,value:a}=e,i=(0,c.R)({abi:r.zV.abi,functionName:"buyPasses",args:n}),l={to:r.zV.address,data:i,value:a,gasLimit:5000000n},u={header:"Buy ".concat(p," ").concat(t," ").concat((0,s._6)("pass",p)),description:"Buy ".concat(p," pass for ").concat((0,d.d)(S||0n)," ETH"),buttonText:"Confirm purchase",transactionInfo:{action:"Buy ".concat(p," ").concat((0,s._6)("pass",p)),title:"Purchase details",contractInfo:{imgUrl:"/assets/sankotv/icons/pass-lg.png"}}};try{let e=await A(l,u);1===e.status&&(N(),j(),k(),o.ZP.dismiss(),o.ZP.success("Bought ".concat(p," ").concat((0,s._6)("pass",p))))}catch(e){v(e)}return!0},O=async e=>{let{args:n}=e,a=(0,c.R)({abi:r.zV.abi,functionName:"sellPasses",args:n}),i={to:r.zV.address,data:a,gasLimit:5000000n},l={header:"Sell ".concat(p," ").concat(t," ").concat((0,s._6)("pass",p)),description:"You will receive ".concat((0,d.d)(E||0n)," ETH"),buttonText:"Confirm sale",transactionInfo:{action:"Sell ".concat(p," ").concat((0,s._6)("pass",p)),title:"Sale details",contractInfo:{imgUrl:"/assets/sankotv/icons/pass-lg.png"}}};try{let e=await A(i,l);1===e.status&&(N(),j(),k(),o.ZP.dismiss(),o.ZP.success("Sold ".concat(p," ").concat((0,s._6)("pass",p))))}catch(e){v(e)}return!0};return{buyPasses:async()=>{let{error:e}=await N();return e?(console.error(e.message),!1):void 0!==S&&(0===p?(o.ZP.dismiss(),o.ZP.error("Enter a valid number of passes"),!1):(B({args:[n,await a.rn.readContract({...r.zV,functionName:"packArgs",args:[{amount:BigInt(p),addy:f||u.D}]})],value:S}),!0))},sellPasses:async()=>{let{error:e}=await N();if(e)return console.error(e.message),!1;if(void 0===E)return!1;if(0===p)return o.ZP.dismiss(),o.ZP.error("Enter a valid number of passes"),!1;if(0n===E||p>=(C||99999))return o.ZP.dismiss(),o.ZP.error("You cannot sell the last pass"),!1;let t=await a.rn.readContract({...r.zV,functionName:"packArgs",args:[{amount:BigInt(p),addy:f||u.D}]});return await O({args:[n,t]}),!0},buyPrice:S||0n,sellPrice:E||0n,passesSupply:C||0n,ownedPasses:Number(P),refetchPassesInfo:N}}},93642:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var s=n(11401),a=n(45158),r=n(91476);let i={address:"---",username:"---",privyAddress:"---",friendTechAddress:n(42026).D,twitterUsername:"---",privyId:"",img:"",twitterImg:""};async function l(e){let{queryKey:t}=e,[n,a,r]=t;if(!r)return i;let l=new URLSearchParams({["privy"===a?"privyId":"twitterUsername"]:r}).toString();try{return(0,s.r)("/api/user?".concat(l))}catch(e){return console.error(e),i}}function o(e){let t;let{user:n}=(0,a.sv)(),s=null==n?void 0:n.id,o=e.from;"privy"===o?t=s:"twitter"===o&&(t=e.username);let{data:c,isLoading:d,refetch:u}=(0,r.a)({queryKey:["user",o,t],queryFn:l}),h={...i,...c};return"privy"===o&&(null==n?void 0:n.wallet)&&(h.address=n.wallet.address.toLowerCase(),n.twitter&&(h.username=n.twitter.username),h.img=h.twitterImg||h.img),{user:h,isUserLoading:d,refetchUser:u}}},60331:function(e,t,n){"use strict";n.d(t,{Hw:function(){return a},h7:function(){return r}});var s=n(39400);function a(e){let t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!1,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone})}(new Date(e.timestamp));if("content"in e.event){if("EMOTE"===e.eventType){let n=e.event;return{id:e.eventHash,isEmote:!0,...n,time:t}}if("DICEROLL"===e.eventType){let n=e.event;return{id:e.eventHash,isDiceroll:!0,...n,time:t}}if("COINFLIP"===e.eventType){let n=e.event;return{id:e.eventHash,isCoinflip:!0,...n,time:t}}{let n=e.event;return{id:e.eventHash,...n,time:t}}}return"GIFT"===e.eventType?{...function(e){let{privyId:t,name:n,giftName:a,quantity:r}=e.event.attributes,i=parseInt(r)>1,l="JUST MINTED ".concat(i?r:"A"," ").concat((0,s._6)(a,Number(r)).toUpperCase());return{id:e.eventHash,content:l,sendTime:new Date,isGift:!0,sender:{userId:t,attributes:{name:n}}}}(e),isGift:!0,time:t}:{...function(e){let t=e.event,{eventName:n}=t;if("app:STREAMER_START"===n||"app:STREAMER_PAUSE"===n||"app:STREAMER_RESUME"===n||"app:STREAMER_END"===n){var s;return{id:e.eventHash,content:({"app:STREAMER_START":"HOST HAS STARTED THE STREAM","app:STREAMER_PAUSE":"HOST HAS GONE AFK","app:STREAMER_RESUME":"HOST HAS RESUMED THE STREAM","app:STREAMER_END":"HOST HAS ENDED THE STREAM"})[n],isSystemEvent:!0,sendTime:new Date,sender:{userId:"system",attributes:{name:(null===(s=t.attributes)||void 0===s?void 0:s.name)||""}}}}return{}}(e),isSystemEvent:!0,time:t}}function r(e){let t;let n=Intl.DateTimeFormat().resolvedOptions().timeZone,r=[];return null==e||e.forEach(e=>{let i=new Date(e.timestamp),l={timeZone:n,day:"numeric"};if(parseInt(i.toLocaleString("en-US",l),10)!==t){let e=new Intl.DateTimeFormat("en-US",{weekday:"long",timeZone:n}).format(i),a=new Intl.DateTimeFormat("en-US",{month:"long",timeZone:n}).format(i),o=(0,s.uw)(i.getDate()),c="".concat(e,", ").concat(a," ").concat(o);r.push({id:(0,s.D1)(),isTimestamp:!0,content:c,sendTime:new Date,sender:{userId:"system"}}),t=parseInt(i.toLocaleString("en-US",l),10)}r.push(a(e))}),r}},39400:function(e,t,n){"use strict";n.d(t,{BU:function(){return a},D1:function(){return s},Ee:function(){return i},RD:function(){return h},Sy:function(){return c},Tt:function(){return r},_6:function(){return l},s2:function(){return d},uw:function(){return o},v3:function(){return u}});let s=()=>Math.random().toString(36).substring(2,16),a=e=>{let t=e/1e3,n=Math.floor(t/3600),s=Math.floor(t%3600/60),a=n>0||s>0?"".concat(String(s).padStart(2,"0"),":"):"00:",r=String(Math.floor(t%3600%60)).padStart(2,"0");return"".concat(n>0?"".concat(n,":"):"00:").concat(a).concat(r)},r=()=>["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document,i=()=>"standalone"in window.navigator&&window.navigator.standalone,l=(e,t)=>{if(1===t)return e;if(e.endsWith("ey")||e.endsWith("ay")||e.endsWith("oy"));else if(e.endsWith("y")&&"glizzy"!==e.toLowerCase())return"".concat(e.slice(0,-1),"ies");else if(e.endsWith("ss"))return"".concat(e,"es");return"".concat(e,"s")};function o(e){let t=e%10,n=e%100;return 1===t&&11!==n?"".concat(e,"st"):2===t&&12!==n?"".concat(e,"nd"):3===t&&13!==n?"".concat(e,"rd"):"".concat(e,"th")}function c(e){let t=Math.floor((new Date().getTime()-e)/1e3),n=Math.floor(t/60),s=Math.floor(n/60);return t<60?"".concat(t,"s"):n<60?"".concat(n,"m"):s<24?"".concat(s,"h"):"".concat(Math.floor(s/24),"d")}let d=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(window.navigator.userAgent);function u(e){let t=new Date,n=new Date(e),s=(t.getTime()-n.getTime())/1e3;if(s<60){let e=parseInt(s.toString());return"".concat(e," ").concat(l("second",e)," ago")}if(s<3600){let e=parseInt((s/60).toString());return"".concat(e," ").concat(l("minute",e)," ago")}if(s<=86400){let e=parseInt((s/3600).toString());return"".concat(e," ").concat(l("hour",e)," ago")}if(s<604800){let e=parseInt((s/86400).toString());return"".concat(e," ").concat(l("day",e)," ago")}{let e=parseInt((s/604800).toString());return"".concat(e," ").concat(l("week",e)," ago")}}function h(e){let t=new Date(e),n=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0,timeZoneName:"short"}).format(t),s=t.getDate();return n.replace("".concat(s,","),"".concat(s).concat(s%10==1&&11!==s?"st":s%10==2&&12!==s?"nd":s%10==3&&13!==s?"rd":"th"," at"))}},89325:function(e,t,n){"use strict";n.d(t,{j:function(){return r}});var s=n(97458),a=n(79363);let r=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,s.jsxs)(s.Fragment,{children:["0",(0,s.jsx)("span",{className:"text-".concat(t),children:"x"}),(0,a.Xs)(e,!1,n)]})}},39879:function(e){e.exports={cRainbow:"Wacky_cRainbow__kkiWF",cRainbowlayer:"Wacky_cRainbowlayer__138wj",x:"Wacky_x__pBaTg",y:"Wacky_y__yOT9_",cRainbowlayerwhite:"Wacky_cRainbowlayerwhite__rYifp",cRainbowlayerorange:"Wacky_cRainbowlayerorange__2NkD_",cRainbowlayerred:"Wacky_cRainbowlayerred__DesUB",cRainbowlayerviolet:"Wacky_cRainbowlayerviolet__dqvnB",cRainbowlayerblue:"Wacky_cRainbowlayerblue__fdT8v",cRainbowlayergreen:"Wacky_cRainbowlayergreen___qx8s",cRainbowlayeryellow:"Wacky_cRainbowlayeryellow__XYc0c",wombo:"Wacky_wombo__cGuYX",bounce:"Wacky_bounce__C3Raq",smoketheticker:"Wacky_smoketheticker__Vtq0Q",machineelves:"Wacky_machineelves__AbZpu"}}}]);
